<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>title</title>
    <meta charset="utf-8" />
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/little_ak.css" type="text/css" />
    <link rel="stylesheet" href="assets/css/little_ak-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

class: top, left, inverse


## ACCE DTP 

### _Reproducible Research Data and Project Management in R_

***

.bottom[
# Basic Data Management

&lt;br&gt;

**&lt;svg viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg" style="height:1em;fill:currentColor;position:relative;display:inline-block;top:.1em;"&gt;
  &lt;path d="M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"&gt;&lt;/path&gt;
&lt;/svg&gt; Apr-May 2020**
&lt;br&gt;

**&lt;svg viewBox="0 0 288 512" xmlns="http://www.w3.org/2000/svg" style="height:1em;fill:currentColor;position:relative;display:inline-block;top:.1em;"&gt;
  &lt;path d="M112 316.94v156.69l22.02 33.02c4.75 7.12 15.22 7.12 19.97 0L176 473.63V316.94c-10.39 1.92-21.06 3.06-32 3.06s-21.61-1.14-32-3.06zM144 0C64.47 0 0 64.47 0 144s64.47 144 144 144 144-64.47 144-144S223.53 0 144 0zm0 76c-37.5 0-68 30.5-68 68 0 6.62-5.38 12-12 12s-12-5.38-12-12c0-50.73 41.28-92 92-92 6.62 0 12 5.38 12 12s-5.38 12-12 12z"&gt;&lt;/path&gt;
&lt;/svg&gt; Online** 
]

---

# Start at the beginning

### **Plan your Research Data Management**

- **Start early**. Make an RDM plan before collecting data.
    - [**RDM checklist**](http://www.dcc.ac.uk/sites/default/files/documents/resource/DMP/DMP_Checklist_2013.pdf)

- Anticipate **data products** as part of your thesis **outputs**
- Think about what technologies to use

---

# Own your data

### **Take initiative &amp; responsibility. Think long term.**


&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;Act as though every short term study will become a long term one &lt;a href="https://twitter.com/tomjwebb?ref_src=twsrc%5Etfw"&gt;@tomjwebb&lt;/a&gt;. Needs to be reproducible in 3, 20, 100 yrs&lt;/p&gt;&amp;mdash; Oceans Initiative (@oceansresearch) &lt;a href="https://twitter.com/oceansresearch/status/556107891610894337?ref_src=twsrc%5Etfw"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="https://platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;


&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;Act as though every short term study will become a long term one &lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt;. Needs to be reproducible in 3, 20, 100 yrs&lt;/p&gt;&amp;mdash; oceans initiative (@oceansresearch) &lt;a href="https://twitter.com/oceansresearch/status/556107891610894337"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;




---

class: top, right, inverse

# Data management

***

---
## Spreadsheets

### extreme but in many ways defendable

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; stay away from excel at all costs?&lt;/p&gt;&amp;mdash; Timothée Poisot (@tpoi) &lt;a href="https://twitter.com/tpoi/status/556107000950829056"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

## **excel: `read/entry only`**

&lt;blockquote class="twitter-tweet" data-conversation="none" data-cards="hidden" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; &lt;a href="https://twitter.com/tpoi"&gt;@tpoi&lt;/a&gt; excel is fine for data entry. Just save in plain text format like csv. Some additional tips: &lt;a href="https://t.co/8fUv9PyVjC"&gt;pic.twitter.com/8fUv9PyVjC&lt;/a&gt;&lt;/p&gt;&amp;mdash; Jaime Ashander (@jaimedash) &lt;a href="https://twitter.com/jaimedash/status/556113131932381185"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/jaimedash"&gt;@jaimedash&lt;/a&gt; just don’t let excel anywhere near dates or times.  &lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; &lt;a href="https://twitter.com/tpoi"&gt;@tpoi&lt;/a&gt; &lt;a href="https://twitter.com/larysar"&gt;@larysar&lt;/a&gt;&lt;/p&gt;&amp;mdash; Dave Harris (@davidjayharris) &lt;a href="https://twitter.com/davidjayharris/status/556126474550263809"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

## **Databases: more robust**

Stronger quality control features. Advisable for multiple contributors

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; databases? &lt;a href="https://twitter.com/swcarpentry"&gt;@swcarpentry&lt;/a&gt; has a good course on SQLite&lt;/p&gt;&amp;mdash; Timothée Poisot (@tpoi) &lt;a href="https://twitter.com/tpoi/status/556142573308608513"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; &lt;a href="https://twitter.com/tpoi"&gt;@tpoi&lt;/a&gt; if the data are moderately complex, or involve multiple people, best to set up a database with well designed entry form 1/2&lt;/p&gt;&amp;mdash; Luca Borger (@lucaborger) &lt;a href="https://twitter.com/lucaborger/status/556226732496535552"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

## **Databases: benefits** 

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; Entering via a database management system (e.g., Access, Filemaker) can make entry easier &amp;amp; help prevent data entry errors &lt;a href="https://twitter.com/tpoi"&gt;@tpoi&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ethan White (@ethanwhite) &lt;a href="https://twitter.com/ethanwhite/status/556119480493813760"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/ethanwhite"&gt;@ethanwhite&lt;/a&gt; +1 Enforcing data types, options from selection etc, just some useful things a DB gives you, if you turn them on &lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; &lt;a href="https://twitter.com/tpoi"&gt;@tpoi&lt;/a&gt;&lt;/p&gt;&amp;mdash; Gavin Simpson (@ucfagls) &lt;a href="https://twitter.com/ucfagls/status/556120176748290048"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; it also prevents a lot of different bad practices. It is possible to do some of this in Excel. &lt;a href="https://twitter.com/tpoi"&gt;@tpoi&lt;/a&gt;&lt;/p&gt;&amp;mdash; Ethan White (@ethanwhite) &lt;a href="https://twitter.com/ethanwhite/status/556119826582605824"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;


Have a look at the Data Carpentry [**SQL for Ecology** lesson](http://www.datacarpentry.org/sql-ecology-lesson/)

---

class: top, right, inverse

# Data formats

***

---


## **Data formats**

- **`.csv`**: *comma* separated values. 
- **`.tsv`**: *tab* separated values.
- **`.txt`**: no formatting specified.


&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; It has to be interoperability/openness - can I read your data with whatever I use, without having to convert it?&lt;/p&gt;&amp;mdash; Paul Swaddle (@paul_swaddle) &lt;a href="https://twitter.com/paul_swaddle/status/556148166270406656"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

#### **more unusual formats will need instructions on use.**

---

## **Ensure data is machine readable**

### bad

&lt;img src="assets/img/bad_xl1.png" width=600px&gt;

---

### bad
&lt;img src="assets/img/bad_xl2.png" width=600px&gt;

---

### good 
&lt;img src="assets/img/good_xl.png" width=600px&gt;

---

### ok

&lt;img src="assets/img/ok_xl.png" width=600px&gt;

- could help data entry
- `.csv` or `.tsv` copy would need to be saved.

---

class: top, right, inverse

# Basic quality control

***

---


## **Use good null values**

### Missing values are a fact of life

- Usually, best solution is to **leave blank**
- **`NA`** or **`NULL`** are also good options
- **NEVER use `0`**. Avoid numbers like **`-999`**
- Don’t make up your own code for missing values


---

## [**`read.csv()`**](http://stat.ethz.ch/R-manual/R-devel/library/utils/html/read.table.html) **utilities**

- **`na.string`:** character vector of values to be coded missing and replaced with `NA` to argument eg
- **`strip.white`:** Logical. if `TRUE` strips leading and trailing white space from unquoted character fields 
- **`blank.lines.skip`:** Logical: if `TRUE` blank lines in the input are ignored.
- **`fileEncoding`:** if you're getting funny characters, you probably need to specify the correct encoding.


```r
read.csv(file, na.strings = c("NA", "-999"), strip.white = TRUE, 
         blank.lines.skip = TRUE, fileEncoding = "mac")
```

---

## [**`readr::read_csv()`**](https://cran.r-project.org/web/packages/readr/readr.pdf) **utilities**

- **`na`:** character vector of values to be coded missing and replaced with `NA` to argument eg
- **`trim_ws`:** Logical. if `TRUE` strips leading and trailing white space from unquoted character fields 
- **`col_types`:** Allows for column data type specification. ([see more](https://cran.r-project.org/web/packages/readxl/vignettes/cell-and-column-types.html))
- **`locale`:** controls things like the default time zone, encoding, decimal mark, big mark, and day/month names
- **`skip`:** Number of lines to skip before reading data.
- **`n_max`:** Maximum number of records to read.


```r
read_csv(file, col_names = TRUE, col_types = NULL, locale = default_locale(), 
         na = c("", "NA", "-999"), trim_ws = TRUE, skip = 0, n_max = Inf)
```

---


## Inspect

#### Have a look at your data with `View(df)`


```r
View(mtcars)
```

![](assets/view_mtcars.png)


- Check **empty cells**

---
### Print

Check your **software interprets your data correctly** 
    - eg see top few rows with `head(df)` 


```r
head(mtcars)
```

```
##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1
```

---
### Structure
see structure of any object with `str()`.


```r
str(mtcars)
```

```
## 'data.frame':	32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...
```



---

### Summarise

- Check the **range of values** (and value types) in each column matches expectation. 
- Check **units of measurement are what you expect**


```r
summary(mtcars)
```

```
##       mpg             cyl             disp             hp             drat             wt       
##  Min.   :10.40   Min.   :4.000   Min.   : 71.1   Min.   : 52.0   Min.   :2.760   Min.   :1.513  
##  1st Qu.:15.43   1st Qu.:4.000   1st Qu.:120.8   1st Qu.: 96.5   1st Qu.:3.080   1st Qu.:2.581  
##  Median :19.20   Median :6.000   Median :196.3   Median :123.0   Median :3.695   Median :3.325  
##  Mean   :20.09   Mean   :6.188   Mean   :230.7   Mean   :146.7   Mean   :3.597   Mean   :3.217  
##  3rd Qu.:22.80   3rd Qu.:8.000   3rd Qu.:326.0   3rd Qu.:180.0   3rd Qu.:3.920   3rd Qu.:3.610  
##  Max.   :33.90   Max.   :8.000   Max.   :472.0   Max.   :335.0   Max.   :4.930   Max.   :5.424  
##       qsec             vs               am              gear            carb      
##  Min.   :14.50   Min.   :0.0000   Min.   :0.0000   Min.   :3.000   Min.   :1.000  
##  1st Qu.:16.89   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.:3.000   1st Qu.:2.000  
##  Median :17.71   Median :0.0000   Median :0.0000   Median :4.000   Median :2.000  
##  Mean   :17.85   Mean   :0.4375   Mean   :0.4062   Mean   :3.688   Mean   :2.812  
##  3rd Qu.:18.90   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:4.000   3rd Qu.:4.000  
##  Max.   :22.90   Max.   :1.0000   Max.   :1.0000   Max.   :5.000   Max.   :8.000
```


---

### pkg [`skimr`](https://github.com/ropenscilabs/skimr)

`skimr` provides a frictionless approach to displaying summary statistics the user can skim quickly to understand their data


```r
install.packages("skimr")
```

---


```r
skimr::skim(trees)
```

&lt;img src="assets/skimr_output.png" width="2296" /&gt;


---

## Validate

### pkg [`assertr`](https://github.com/ropensci/assertr)


The `assertr` package supplies a suite of functions designed to verify assumptions about data and can be used so detect data errors during analysis.


```r
install.packages("assertr")
```

e.g confirm that `mtcars`

- has the columns "mpg", "vs", and "am"
- contains more than 10 observations
- column for 'miles per gallon' (mpg) is a positive number
before further analysis:


```r
library(dplyr)
library(assertr)
mtcars %&gt;%
    verify(has_all_names("mpg", "vs", "am", "wt")) %&gt;%
    verify(nrow(.) &gt; 10) %&gt;%
    verify(mpg &gt; 0)
```

---


class: top, right, inverse

# Data security

***

---

## **Raw data are sacrosanct**

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; don&amp;#39;t, not even with a barge pole, not for one second, touch or otherwise edit the raw data files. Do any manipulations in script&lt;/p&gt;&amp;mdash; Gavin Simpson (@ucfagls) &lt;a href="https://twitter.com/ucfagls/status/556107371634634755"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; &lt;a href="https://twitter.com/srsupp"&gt;@srsupp&lt;/a&gt; Keep one or a few good master data files (per data collection of interest), and code your formatting with good annotation.&lt;/p&gt;&amp;mdash; Desiree Narango (@DLNarango) &lt;a href="https://twitter.com/DLNarango/status/556128407445323778"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---

### **Give yourself less rope** 

.pull-left[
- It's a good idea to **[revoke your own write permission](https://kb.iu.edu/d/abdb) to the raw data file**.

- Then you **can't accidentally edit it**.

- It also makes it **harder to do manual edits** in a moment of weakness, when you know you should **just add a line to your data cleaning script**.
]

.pull-right[
![](assets/jon-moore-399469-unsplash.jpg)
_Photo by Jon Moore on Unsplash_
]

---

## **Know your masters** 

.pull-left[
- identify the `master` copy of files
- keep it safe and and accessible
- consider version control
- consider centralising
]

.pull-right[

&lt;img src="assets/abstract-art-background-270456.jpg" width=400px&gt; 
_source: Pexels CC0_
]

---

## **Avoid catastrophe**

### **Backup: on disk**


- consider using backup software like [Time Machine](https://support.apple.com/en-gb/HT201250) (mac) or [File History](http://www.thundercloud.net/infoave/new/windows-10-has-a-time-machine/) (Windows 10)


### **Backup: in the cloud**

- dropbox, googledrive etc.
- if [installed](https://tools.google.com/dlpage/drive) on your system, can programmatically access them through `R`
- some version control

&lt;blockquote class="twitter-tweet" data-conversation="none" data-lang="en"&gt;&lt;p lang="en" dir="ltr"&gt;&lt;a href="https://twitter.com/tomjwebb"&gt;@tomjwebb&lt;/a&gt; Back it up&lt;/p&gt;&amp;mdash; Ben Bond-Lamberty (@BenBondLamberty) &lt;a href="https://twitter.com/BenBondLamberty/status/556120946722222080"&gt;January 16, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src="//platform.twitter.com/widgets.js" charset="utf-8"&gt;&lt;/script&gt;

---


## **Backup: the Open Science Framework** [osf.io](https://osf.io/)

- version controlled
- easily shareable
- works with other apps (eg googledrive, github)
- work on an interface with R ([OSFr](https://github.com/chartgerink/osfr)) is in progress. See more [here](https://youtu.be/cnE3AcdeGVY)

---


## **Backup: Github**

- most solid version control.

- keep everything in one project folder.

- Can be problematic with really large files.



---

## Get back [home](index.html)
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script src="https://platform.twitter.com/widgets.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
