<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>The tidyverse way | Reproducible Research Data and Project Management in R</title>
  <meta name="description" content="This course focuses on data and project management through R and Rstudio, will introduce students to best practice and equip them with modern tools and techniques for managing data and computational workflows to their full potential." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="The tidyverse way | Reproducible Research Data and Project Management in R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://annakrystalli.me/rrresearchACCE20" />
  
  <meta property="og:description" content="This course focuses on data and project management through R and Rstudio, will introduce students to best practice and equip them with modern tools and techniques for managing data and computational workflows to their full potential." />
  <meta name="github-repo" content="annakrystalli/rrresearchACCE20" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="The tidyverse way | Reproducible Research Data and Project Management in R" />
  
  <meta name="twitter:description" content="This course focuses on data and project management through R and Rstudio, will introduce students to best practice and equip them with modern tools and techniques for managing data and computational workflows to their full potential." />
  

<meta name="author" content="Course Instructor: Dr Anna Krystalli" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="indexing-and-subsetting.html"/>
<link rel="next" href="rdm-intro-view.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/jsoneditor-5.25.6/jsoneditor.min.css" rel="stylesheet" />
<script src="libs/jsoneditor-5.25.6/jsoneditor.min.js"></script>
<script src="libs/jsonedit-binding-3.0.0/jsonedit.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.20/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reproducible Research Data & Project Management in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course description</a></li>
<li class="chapter" data-level="" data-path="welcome-slides.html"><a href="welcome-slides.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Basics</b></span></li>
<li class="chapter" data-level="" data-path="rstudio-basics.html"><a href="rstudio-basics.html"><i class="fa fa-check"></i>Intro to R &amp; Rstudio</a></li>
<li class="chapter" data-level="" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i>R Basics</a></li>
<li class="chapter" data-level="" data-path="data-types-structures-and-classes.html"><a href="data-types-structures-and-classes.html"><i class="fa fa-check"></i>Data types, structures and classes</a></li>
<li class="chapter" data-level="" data-path="indexing-and-subsetting.html"><a href="indexing-and-subsetting.html"><i class="fa fa-check"></i>Indexing and subsetting</a></li>
<li class="chapter" data-level="" data-path="the-tidyverse-way.html"><a href="the-tidyverse-way.html"><i class="fa fa-check"></i>The tidyverse way</a></li>
<li class="chapter" data-level="" data-path="rdm-intro-view.html"><a href="rdm-intro-view.html"><i class="fa fa-check"></i>Data management Basics</a></li>
<li class="part"><span><b>II Project Management</b></span></li>
<li class="chapter" data-level="" data-path="projects-in-rstudio.html"><a href="projects-in-rstudio.html"><i class="fa fa-check"></i>Projects in Rstudio</a></li>
<li class="chapter" data-level="" data-path="filenaming-view.html"><a href="filenaming-view.html"><i class="fa fa-check"></i>Good File Naming</a></li>
<li class="chapter" data-level="" data-path="path-proj-str.html"><a href="path-proj-str.html"><i class="fa fa-check"></i>Paths and Project structure</a></li>
<li class="part"><span><b>III Data Munging</b></span></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i>Iteration</a></li>
<li class="chapter" data-level="" data-path="data-merge.html"><a href="data-merge.html"><i class="fa fa-check"></i>Merging data</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i>Functions</a></li>
<li class="part"><span><b>IV Working with metadata</b></span></li>
<li class="chapter" data-level="" data-path="metadata-slides.html"><a href="metadata-slides.html"><i class="fa fa-check"></i>Metadata</a></li>
<li><a href="dataspice.html#dataspice">Creating metadata with <code>dataspice</code></a></li>
<li class="part"><span><b>V Analysing and presenting analyses</b></span></li>
<li class="chapter" data-level="" data-path="plotting-with-ggplot2.html"><a href="plotting-with-ggplot2.html"><i class="fa fa-check"></i>Plotting with ggplot2</a></li>
<li class="chapter" data-level="" data-path="literate-programming-in-rmarkdown.html"><a href="literate-programming-in-rmarkdown.html"><i class="fa fa-check"></i>Literate Programming in rmarkdown</a></li>
<li class="part"><span><b>VI Version Control</b></span></li>
<li class="chapter" data-level="" data-path="version-control-with-git.html"><a href="version-control-with-git.html"><i class="fa fa-check"></i>Version Control with Git</a></li>
<li class="chapter" data-level="" data-path="collaborative-github.html"><a href="collaborative-github.html"><i class="fa fa-check"></i>Collaborative GitHub</a></li>
<li><a href="practical-github-rstudio-for-collaborative-coding.html#practical-github-rstudio-for-collaborative-coding">Practical: <code>GitHub</code> &amp; <code>Rstudio</code> for collaborative coding</a></li>
<li class="part"><span><b>VII Packaging Research Projects</b></span></li>
<li class="chapter" data-level="" data-path="managing-dependencies.html"><a href="managing-dependencies.html"><i class="fa fa-check"></i>Managing Dependencies</a></li>
<li class="chapter" data-level="" data-path="packaging-functionality.html"><a href="packaging-functionality.html"><i class="fa fa-check"></i>Packaging functionality</a></li>
<li class="chapter" data-level="" data-path="creating-a-research-compendium-with-rrtools.html"><a href="creating-a-research-compendium-with-rrtools.html"><i class="fa fa-check"></i>Creating a research compendium with rrtools</a></li>
<li class="part"><span><b>VIII Closing</b></span></li>
<li class="chapter" data-level="" data-path="closing-remarks.html"><a href="closing-remarks.html"><i class="fa fa-check"></i>Closing Remarks</a></li>
<li class="part"><span><b>IX APPENDIX</b></span></li>
<li><a href="individual.html#individual.r"><code>individual.R</code></a></li>
<li><a href="geolocate.html#geolocate.r"><code>geolocate.R</code></a></li>
<li><a href="analysis.r-1.html#analysis.r-1"><code>analysis.R</code></a></li>
<li><a href="index.html#index.rmd"><code>index.Rmd</code></a></li>
<li><a href="gitignore.html#gitignore"><code>.gitignore</code></a></li>
<li><a href="mypackage-hello.html#mypackage-hello.r"><code>mypackage</code> <code>hello.R</code></a></li>
<li><a href="mypackage-readme.html#mypackage-readme.rmd"><code>mypackage</code> <code>README.Rmd</code></a></li>
<li><a href="mypackage-description.html#mypackage-description"><code>mypackage</code> <code>DESCRIPTION</code></a></li>
<li><a href="rrcompendium-description.html#rrcompendium-description"><code>rrcompendium</code> <code>DESCRIPTION</code></a></li>
<li><a href="rrcompendium-readme.html#rrcompendium-readme.rmd"><code>rrcompendium</code> <code>README.Rmd</code></a></li>
<li><a href="rrcompendium-paper.rmd-yaml-header.html#rrcompendium-paper.rmd-yaml-header"><code>rrcompendium</code> <code>paper.Rmd</code> YAML header</a></li>
<li><a href="rrcompendium-paper.html#rrcompendium-paper.rmd"><code>rrcompendium</code> <code>paper.Rmd</code></a></li>
<li class="chapter" data-level="" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i>Software Setup</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i>Solutions</a></li>
<li class="divider"></li>
<li><a href="https://annakrystalli.me/rrreasearchACCE2020" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Research Data and Project Management in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="the-tidyverse-way" class="section level1">
<h1>The tidyverse way</h1>
<div id="intro-to-the-tidyverse" class="section level2">
<h2>Intro to the tidyverse</h2>
<div class="alert alert-info">
<p>The <a href="https://www.tidyverse.org/">Tidyverse</a> is a coherent system of packages for data manipulation, exploration and visualization that share a common design philosophy.</p>
<div id="advantages-of-the-tidyverse" class="section level3">
<h3>Advantages of the tidyverse</h3>
<ul>
<li>Consistent functions.</li>
<li>Workflow coverage.</li>
<li>A parsimonious approach to the development of data science tools.</li>
</ul>
</div>
</div>
<p><img src="assets/tidyverse_copy.png" /><!-- --></p>
<p><img src="https://rviews.rstudio.com/post/2017-06-09-What-is-the-tidyverse_files/tidyverse2.png" /><!-- --></p>
<div id="tidyverse-principles" class="section level3">
<h3>Tidyverse Principles</h3>
<ul>
<li><code>tibbles</code> as main data structures.</li>
<li>Tidy data where rows are sigle observations and columns the variables observed.</li>
<li>Piping the outputs of tidyverse functions as inputs to subsequent functions.</li>
</ul>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="the-tidyverse-way.html#cb228-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">&quot;tibble&quot;</span>, <span class="st">&quot;dplyr&quot;</span>))</span></code></pre></div>
<hr />
</div>
</div>
<div id="tibbles" class="section level2">
<h2><code>tibbles</code></h2>
<blockquote>
<p><code>tibbles</code> are one of the unifying features of the tidyverse, and are the tidyverse version of a data.frame (I will use them interchangeably in the rest of the text).</p>
</blockquote>
<div id="features-2" class="section level3">
<h3>Features</h3>
<ul>
<li>Better printing behaviour.</li>
<li>Never coerces characters to factors.</li>
<li>More robust error handling.</li>
</ul>
</div>
<div id="creating-tibbles" class="section level3">
<h3>Creating tibbles</h3>
<div id="coercing-data.frames" class="section level4">
<h4>Coercing data.frames</h4>
<p>You can coerce a data.frame to a tibble</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="the-tidyverse-way.html#cb229-1" aria-hidden="true" tabindex="-1"></a>tree_tbl <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">as_tibble</span>(trees)</span>
<span id="cb229-2"><a href="the-tidyverse-way.html#cb229-2" aria-hidden="true" tabindex="-1"></a>tree_tbl</span></code></pre></div>
<pre><code>## # A tibble: 31 × 3
##    Girth Height Volume
##    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1   8.3     70   10.3
##  2   8.6     65   10.3
##  3   8.8     63   10.2
##  4  10.5     72   16.4
##  5  10.7     81   18.8
##  6  10.8     83   19.7
##  7  11       66   15.6
##  8  11       75   18.2
##  9  11.1     80   22.6
## 10  11.2     75   19.9
## # … with 21 more rows</code></pre>
<p>As you can see, printing tibbles is much tidier and informative and designed so that you don’t accidentally overwhelm your console when you print large data.frames.</p>
</div>
<div id="creating-new-tibbles" class="section level4">
<h4>Creating new tibbles</h4>
<p>You can create a new tibble from individual vectors with <code>tibble()</code>. <code>tibble()</code> will automatically recycle inputs of length 1, and allows you to refer to variables that you just created:</p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="the-tidyverse-way.html#cb231-1" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">tibble</span>(</span>
<span id="cb231-2"><a href="the-tidyverse-way.html#cb231-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, </span>
<span id="cb231-3"><a href="the-tidyverse-way.html#cb231-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="dv">1</span>, </span>
<span id="cb231-4"><a href="the-tidyverse-way.html#cb231-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">z =</span> x <span class="sc">^</span> <span class="dv">2</span> <span class="sc">+</span> y</span>
<span id="cb231-5"><a href="the-tidyverse-way.html#cb231-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##       x     y     z
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     1     2
## 2     2     1     5
## 3     3     1    10
## 4     4     1    17
## 5     5     1    26</code></pre>
</div>
</div>
</div>
<div id="subsetting-tibbles" class="section level2">
<h2>Subsetting tibbles</h2>
<div id="base-r-subsetting" class="section level3">
<h3>Base R subsetting</h3>
<p>We can use all the tools we learnt to subset data.frames to subset tibbles.</p>
</div>
<div id="subsetting-using-the-tidyverse" class="section level3">
<h3>Subsetting using the tidyverse</h3>
<p>You can also subset <code>tibbles</code> using tidyverse functions from package <code>dplyr</code>. <code>dplyr</code> verbs are inspired by SQL vocabulary and designed to be more intuitive.</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="the-tidyverse-way.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<p>The first argument of the main <code>dplyr</code> functions is a <code>tibble</code> (or data.frame)</p>
<div id="filtering-rows-with-filter" class="section level4">
<h4>Filtering rows with <code>filter()</code></h4>
<p><code>filter()</code> allows us to subset observations (rows) based on their values. The first argument is the name of the data frame. The second and subsequent arguments are the expressions that filter the data frame.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="the-tidyverse-way.html#cb234-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(tree_tbl, Girth <span class="sc">&gt;</span> <span class="dv">14</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 3
##    Girth Height Volume
##    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
##  1  14.2     80   31.7
##  2  14.5     74   36.3
##  3  16       72   38.3
##  4  16.3     77   42.6
##  5  17.3     81   55.4
##  6  17.5     82   55.7
##  7  17.9     80   58.3
##  8  18       80   51.5
##  9  18       80   51  
## 10  20.6     87   77</code></pre>
<p><code>dplyr</code> executes the filtering operation by generating a logical vector and returns a new <code>tibble</code> of the rows that match the filtering conditions. You can therefore use any logical operators we learnt using <code>[</code>.</p>
</div>
<div id="slicing-rows-with-slice" class="section level4">
<h4>Slicing rows with <code>slice()</code></h4>
<p>Using <code>slice()</code> is similar to subsetting using element indices in that we provide element indices to select rows.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="the-tidyverse-way.html#cb236-1" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(tree_tbl, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 1 × 3
##   Girth Height Volume
##   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1   8.6     65   10.3</code></pre>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="the-tidyverse-way.html#cb238-1" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(tree_tbl, <span class="dv">2</span><span class="sc">:</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##   Girth Height Volume
##   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
## 1   8.6     65   10.3
## 2   8.8     63   10.2
## 3  10.5     72   16.4
## 4  10.7     81   18.8</code></pre>
</div>
<div id="selecting-columns-with-select" class="section level4">
<h4>Selecting columns with <code>select()</code></h4>
<p><code>select()</code> allows us to subset columns in tibbles using operations based on the names of the variables.</p>
<p>In <code>dplyr</code> we use <strong>unquoted column names</strong> (ie <code>Volume</code> rather than <code>"Volume"</code>).</p>
<div class="sourceCode" id="cb240"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb240-1"><a href="the-tidyverse-way.html#cb240-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(tree_tbl, Height, Volume)</span></code></pre></div>
<pre><code>## # A tibble: 31 × 2
##    Height Volume
##     &lt;dbl&gt;  &lt;dbl&gt;
##  1     70   10.3
##  2     65   10.3
##  3     63   10.2
##  4     72   16.4
##  5     81   18.8
##  6     83   19.7
##  7     66   15.6
##  8     75   18.2
##  9     80   22.6
## 10     75   19.9
## # … with 21 more rows</code></pre>
<p>Behind the scenes, <code>select</code> matches any variable arguments to column names creating a vector of column indices. This is then used to subset the <code>tibble</code>. As such we can create ranges of variables using their names and <code>:</code></p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="the-tidyverse-way.html#cb242-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(tree_tbl, Height<span class="sc">:</span>Volume)</span></code></pre></div>
<pre><code>## # A tibble: 31 × 2
##    Height Volume
##     &lt;dbl&gt;  &lt;dbl&gt;
##  1     70   10.3
##  2     65   10.3
##  3     63   10.2
##  4     72   16.4
##  5     81   18.8
##  6     83   19.7
##  7     66   15.6
##  8     75   18.2
##  9     80   22.6
## 10     75   19.9
## # … with 21 more rows</code></pre>
<p>There’s also a number of helper functions to make selections easier. For example, we can use <code>one_of()</code> to provide a character vector of column names to select.</p>
<div class="sourceCode" id="cb244"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb244-1"><a href="the-tidyverse-way.html#cb244-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(tree_tbl, <span class="fu">one_of</span>(<span class="fu">c</span>(<span class="st">&quot;Height&quot;</span>, <span class="st">&quot;Volume&quot;</span>)))</span></code></pre></div>
<pre><code>## # A tibble: 31 × 2
##    Height Volume
##     &lt;dbl&gt;  &lt;dbl&gt;
##  1     70   10.3
##  2     65   10.3
##  3     63   10.2
##  4     72   16.4
##  5     81   18.8
##  6     83   19.7
##  7     66   15.6
##  8     75   18.2
##  9     80   22.6
## 10     75   19.9
## # … with 21 more rows</code></pre>
<p><a href="https://tidyselect.r-lib.org/reference/select_helpers.html">Find out more about <code>dplyr</code> helper functions</a></p>
</div>
</div>
</div>
<div id="the-pipe-operator" class="section level2">
<h2>The pipe operator <code>%&gt;%</code></h2>
<blockquote>
<p>Pipes are a powerful tool for clearly expressing a sequence of multiple operations.</p>
</blockquote>
<blockquote>
<p>They help us write code in a way that is easier to read and understand. They also remove the need for creating intermediate objects.</p>
</blockquote>
<div alert="" alert-info="">
<p>Pipes take the output of the evaluation of the preceeding code and pipe it as the first argument to the subsequent expression.</p>
</div>
<p>Suppose we want to get the first two rows and only columns <code>Girth</code> and <code>Volume</code>. We can chain the two operations together using the pipe.</p>
<div class="sourceCode" id="cb246"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb246-1"><a href="the-tidyverse-way.html#cb246-1" aria-hidden="true" tabindex="-1"></a>tree_tbl <span class="sc">%&gt;%</span></span>
<span id="cb246-2"><a href="the-tidyverse-way.html#cb246-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Girth, Volume) <span class="sc">%&gt;%</span></span>
<span id="cb246-3"><a href="the-tidyverse-way.html#cb246-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## # A tibble: 2 × 2
##   Girth Volume
##   &lt;dbl&gt;  &lt;dbl&gt;
## 1   8.3   10.3
## 2   8.6   10.3</code></pre>
<p>This form is very understandable because it focuses on intuitive verbs, not nouns. You can read this series of function compositions like it’s a set of imperative actions.</p>
<p>As mentioned, the <strong>default behaviour</strong> of the pipe is to pipe objects through <strong>as the first argument</strong> of the next expression. However, we can <strong>pipe the object into a different argument using the <code>.</code> operator</strong>.</p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="the-tidyverse-way.html#cb248-1" aria-hidden="true" tabindex="-1"></a>tree_tbl <span class="sc">%&gt;%</span></span>
<span id="cb248-2"><a href="the-tidyverse-way.html#cb248-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">lm</span>(Girth <span class="sc">~</span> Height, <span class="at">data =</span> .)</span></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Girth ~ Height, data = .)
## 
## Coefficients:
## (Intercept)       Height  
##     -6.1884       0.2557</code></pre>
<p><em>Note: The pipe, <code>%&gt;%</code>, comes from the <code>magrittr</code> package by Stefan Milton Bache. Packages in the tidyverse load <code>%&gt;%</code> for you automatically, so you don’t usually load <code>magrittr</code> explicitly.</em></p>
</div>
<div id="data-transformation-with-dplyr-cheat-sheet" class="section level2">
<h2>Data Transformation with <code>dplyr</code> Cheat Sheet</h2>
<p><embed src="assets/cheatsheets/data-transformation.pdf" /><!-- --></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="indexing-and-subsetting.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="rdm-intro-view.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rrresearchACCE20.pdf", "rrresearchACCE20.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
