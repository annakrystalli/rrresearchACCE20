<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Literate Programming in rmarkdown | Reproducible Research Data and Project Management in R</title>
  <meta name="description" content="This course focuses on data and project management through R and Rstudio, will introduce students to best practice and equip them with modern tools and techniques for managing data and computational workflows to their full potential." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Literate Programming in rmarkdown | Reproducible Research Data and Project Management in R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://annakrystalli.me/rrresearchACCE20" />
  
  <meta property="og:description" content="This course focuses on data and project management through R and Rstudio, will introduce students to best practice and equip them with modern tools and techniques for managing data and computational workflows to their full potential." />
  <meta name="github-repo" content="https://github.com/annakrystalli/rrresearchACCE20" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Literate Programming in rmarkdown | Reproducible Research Data and Project Management in R" />
  
  <meta name="twitter:description" content="This course focuses on data and project management through R and Rstudio, will introduce students to best practice and equip them with modern tools and techniques for managing data and computational workflows to their full potential." />
  

<meta name="author" content="Course Instructor: Dr Anna Krystalli" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="plotting-with-ggplot2.html"/>
<link rel="next" href="version-control.html"/>
<script src="libs/header-attrs-2.7/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/jsoneditor-5.25.6/jsoneditor.min.css" rel="stylesheet" />
<script src="libs/jsoneditor-5.25.6/jsoneditor.min.js"></script>
<script src="libs/jsonedit-binding-3.0.0/jsonedit.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reproducible Research Data & Project Management in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Course description</a></li>
<li class="chapter" data-level="" data-path="welcome-slides.html"><a href="welcome-slides.html"><i class="fa fa-check"></i>Welcome</a></li>
<li class="part"><span><b>I Basics</b></span></li>
<li class="chapter" data-level="" data-path="rstudio-basics.html"><a href="rstudio-basics.html"><i class="fa fa-check"></i>Intro to R &amp; Rstudio</a></li>
<li class="chapter" data-level="" data-path="r-basics.html"><a href="r-basics.html"><i class="fa fa-check"></i>R Basics</a></li>
<li class="chapter" data-level="" data-path="data-types-structures-and-classes.html"><a href="data-types-structures-and-classes.html"><i class="fa fa-check"></i>Data types, structures and classes</a></li>
<li class="chapter" data-level="" data-path="indexing-and-subsetting.html"><a href="indexing-and-subsetting.html"><i class="fa fa-check"></i>Indexing and subsetting</a></li>
<li class="chapter" data-level="" data-path="the-tidyverse-way.html"><a href="the-tidyverse-way.html"><i class="fa fa-check"></i>The tidyverse way</a></li>
<li class="chapter" data-level="" data-path="rdm-intro-view.html"><a href="rdm-intro-view.html"><i class="fa fa-check"></i>Data management Basics</a></li>
<li class="part"><span><b>II Project Management</b></span></li>
<li class="chapter" data-level="" data-path="projects-in-rstudio.html"><a href="projects-in-rstudio.html"><i class="fa fa-check"></i>Projects in Rstudio</a></li>
<li class="chapter" data-level="" data-path="filenaming-view.html"><a href="filenaming-view.html"><i class="fa fa-check"></i>Good File Naming</a></li>
<li class="chapter" data-level="" data-path="path-proj-str.html"><a href="path-proj-str.html"><i class="fa fa-check"></i>Paths and Project structure</a></li>
<li class="part"><span><b>III Data Munging</b></span></li>
<li class="chapter" data-level="" data-path="iteration.html"><a href="iteration.html"><i class="fa fa-check"></i>Iteration</a></li>
<li class="chapter" data-level="" data-path="data-merge.html"><a href="data-merge.html"><i class="fa fa-check"></i>Merging data</a></li>
<li class="chapter" data-level="" data-path="functions.html"><a href="functions.html"><i class="fa fa-check"></i>Functions</a></li>
<li class="part"><span><b>IV Working with metadata</b></span></li>
<li class="chapter" data-level="" data-path="metadata-slides.html"><a href="metadata-slides.html"><i class="fa fa-check"></i>Metadata</a></li>
<li><a href="dataspice.html#dataspice">Creating metadata with <code>dataspice</code></a></li>
<li class="part"><span><b>V Analysing and presenting analyses</b></span></li>
<li class="chapter" data-level="" data-path="plotting-with-ggplot2.html"><a href="plotting-with-ggplot2.html"><i class="fa fa-check"></i>Plotting with ggplot2</a></li>
<li class="chapter" data-level="" data-path="literate-programming-in-rmarkdown.html"><a href="literate-programming-in-rmarkdown.html"><i class="fa fa-check"></i>Literate Programming in rmarkdown</a></li>
<li class="part"><span><b>VI Version Control</b></span></li>
<li class="chapter" data-level="" data-path="version-control-with-git.html"><a href="version-control-with-git.html"><i class="fa fa-check"></i>Version Control with Git</a></li>
<li class="chapter" data-level="" data-path="collaborative-github.html"><a href="collaborative-github.html"><i class="fa fa-check"></i>Collaborative GitHub</a></li>
<li><a href="practical-github-rstudio-for-collaborative-coding.html#practical-github-rstudio-for-collaborative-coding">Practical: <code>GitHub</code> &amp; <code>Rstudio</code> for collaborative coding</a></li>
<li class="part"><span><b>VII Packaging Research Projects</b></span></li>
<li class="chapter" data-level="" data-path="managing-dependencies.html"><a href="managing-dependencies.html"><i class="fa fa-check"></i>Managing Dependencies</a></li>
<li class="chapter" data-level="" data-path="packaging-functionality.html"><a href="packaging-functionality.html"><i class="fa fa-check"></i>Packaging functionality</a></li>
<li class="chapter" data-level="" data-path="creating-a-research-compendium-with-rrtools.html"><a href="creating-a-research-compendium-with-rrtools.html"><i class="fa fa-check"></i>Creating a research compendium with rrtools</a></li>
<li class="part"><span><b>VIII Closing</b></span></li>
<li class="chapter" data-level="" data-path="closing-remarks.html"><a href="closing-remarks.html"><i class="fa fa-check"></i>Closing Remarks</a></li>
<li class="part"><span><b>IX APPENDIX</b></span></li>
<li><a href="individual-r.html#individual.r"><code>individual.R</code></a></li>
<li><a href="geolocate-r.html#geolocate.r"><code>geolocate.R</code></a></li>
<li><a href="analysis-r-1.html#analysis.r-1"><code>analysis.R</code></a></li>
<li><a href="index-rmd.html#index.rmd"><code>index.Rmd</code></a></li>
<li><a href="gitignore.html#gitignore"><code>.gitignore</code></a></li>
<li><a href="mypackage-hello-r.html#mypackage-hello.r"><code>mypackage</code> <code>hello.R</code></a></li>
<li><a href="mypackage-readme-rmd.html#mypackage-readme.rmd"><code>mypackage</code> <code>README.Rmd</code></a></li>
<li><a href="mypackage-description.html#mypackage-description"><code>mypackage</code> <code>DESCRIPTION</code></a></li>
<li><a href="rrcompendium-description.html#rrcompendium-description"><code>rrcompendium</code> <code>DESCRIPTION</code></a></li>
<li><a href="rrcompendium-readme-rmd.html#rrcompendium-readme.rmd"><code>rrcompendium</code> <code>README.Rmd</code></a></li>
<li><a href="rrcompendium-paper-rmd-yaml-header.html#rrcompendium-paper.rmd-yaml-header"><code>rrcompendium</code> <code>paper.Rmd</code> YAML header</a></li>
<li><a href="rrcompendium-paper-rmd.html#rrcompendium-paper.rmd"><code>rrcompendium</code> <code>paper.Rmd</code></a></li>
<li class="chapter" data-level="" data-path="about.html"><a href="about.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="" data-path="setup.html"><a href="setup.html"><i class="fa fa-check"></i>Software Setup</a></li>
<li class="chapter" data-level="" data-path="solutions.html"><a href="solutions.html"><i class="fa fa-check"></i>Solutions</a></li>
<li class="divider"></li>
<li><a href="https://annakrystalli.me/rrreasearchACCE2020" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reproducible Research Data and Project Management in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="literate-programming-in-rmarkdown" class="section level1">
<h1>Literate Programming in rmarkdown</h1>
<div id="literate-programming" class="section level2">
<h2>Literate programming</h2>
<p>Literate programming is a programming paradigm first introduced by <strong>Donald E. Knuth</strong>.</p>
<blockquote>
<p><strong>Treat program as literature meant to be understandable to human beings</strong></p>
<ul>
<li>move away from writing programs in the manner and order imposed by the computer</li>
<li>focus instead on the logic and flow of human thought and understanding</li>
<li>single document to integrate data analysis (executable code) with textual documentation, <strong>linking data, code, and text</strong></li>
</ul>
</blockquote>
<div id="why-is-this-important-in-science" class="section level3">
<h3>Why is this important in science:</h3>
<div id="enables-reproducibility" class="section level4">
<h4><strong>Enables reproducibility</strong></h4>
<p>Enables reproducibility through packaging code, text and output into a single executable document.</p>
</div>
<div id="enables-open-science" class="section level4">
<h4><strong>Enables open science</strong></h4>
<p>Literate programming allows us to record and publish information and discussions about code and analyses in more readable formats.</p>
<p><img src="assets/pgls.png" width="60%" /></p>
<blockquote>
<p>… highlight problems with users jumping straight into software implementations of methods (e.g. in r) that may lack documentation on biases and assumptions that are mentioned in the original papers.</p>
</blockquote>
<blockquote>
<p><small> To help solve these problems, we make a number of suggestions including <strong>providing blog posts</strong> or <strong>videos</strong> to explain new methods in less technical terms, <strong>encouraging reproducibility and code sharing</strong>, making <strong>wiki-style pages</strong> summarising the literature on popular methods, more careful consideration and testing of whether a method is appropriate for a given question/data set, increased collaboration, and a shift from publishing purely novel methods to publishing improvements to existing methods and ways of detecting biases or testing model fit. Many of these points are applicable across methods in ecology and evolution, not just phylogenetic comparative methods.</small></p>
</blockquote>
</div>
</div>
</div>
<div id="literate-programming-in-r" class="section level2">
<h2><strong>Literate programming in R</strong></h2>
<div id="rmarkdown-rmd-overview" class="section level3">
<h3>Rmarkdown (<code>Rmd</code>) Overview</h3>
<p><strong>Rmarkdown integrates:</strong></p>
<p>– a <strong>documentantion</strong> language (<code>.md</code>)</p>
<p>– a <strong>programming</strong> language (<code>R</code>)</p>
<p>Allows us to combine <strong>tools, processes</strong> and <strong>outputs</strong> into interactive <strong>evidence streams</strong> that are easily shareable, particularly through the web.</p>
<div id="a-researchers-perspective-on-rmarkdown" class="section level4">
<h4>A researchers perspective on Rmarkdown</h4>
<p>A reproducible workflow in action:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/s3JldKoA0zw" frameborder="0" allowfullscreen>
</iframe>
<p><br></p>
</div>
</div>
<div id="elements-of-r-markdown" class="section level3">
<h3>Elements of R markdown</h3>
<div id="markdown-.md" class="section level4">
<h4><strong>markdown {<code>.md</code>}</strong></h4>
<p>Simplified version of the <strong><code>html</code></strong> markup language. User can focus on communicating &amp; disseminating</p>
<ul>
<li><p>intended to be as <strong>easy-to-read</strong> and <strong>easy-to-write</strong> as possible.</p></li>
<li><p>most powerful as a <strong>format for writing to the web.</strong></p></li>
<li><p><strong>syntax is very small</strong>, corresponding only to a very small subset of HTML tags.</p></li>
<li><p>clean and legible <strong>across platforms (even mobile) and outputs.</strong></p></li>
<li><p><strong>formatting handled automatically</strong></p></li>
<li><p>html <strong>markup language also handled</strong>.</p></li>
</ul>
</div>
<div id="code-r-python-sql" class="section level4">
<h4><strong>code {r,</strong> python, SQL, … <strong>}</strong></h4>
<ul>
<li><p><strong>Code chunks defined through special notation. Executed in sequence</strong>. Exceution of individual chunks controllable</p></li>
<li><p><strong>Analysis self-contained and reproducible</strong></p>
<ul>
<li>Run in a fresh R session every time document is knit.</li>
</ul></li>
<li><p>A number of <a href="https://rmarkdown.rstudio.com/authoring_knitr_engines.html">Language Engines</a> are supported by <code>knitr</code></p>
<ul>
<li><strong>R</strong> (default)</li>
<li>Python</li>
<li>SQL</li>
<li>Bash</li>
<li>Rcpp</li>
<li>Stan</li>
<li>JavaScript</li>
<li>CSS</li>
</ul></li>
<li><p>Can read appropriately annotated <code>.R</code> scripts in and call them within an <code>.Rmd</code></p></li>
</ul>
</div>
<div id="outputs" class="section level4">
<h4><strong>outputs</strong></h4>
<p><strong>Knit together through package <code>knitr</code> to a variety of useful formats</strong>
<img src="assets/RMarkdownOutputFormats.png" width="60%" /></p>
<p>Many great packages and applications build on rmarkdown.</p>
<p>All this makes it incredibly versatile. Check out the <a href="https://rmarkdown.rstudio.com/gallery.html">Rmarkdown gallery</a>.</p>
<p><strong>Superpower: Simple interface to powerful modern web technologies and libraries</strong></p>
<p><img src="assets/html-featured-image.jpg" width="60%" /></p>
</div>
<div id="publish-to-the-web-for-free" class="section level4">
<h4>Publish to the web for free!</h4>
<div id="rpubs" class="section level5">
<h5><strong>RPubs</strong>:</h5>
<p>Publish rendered rmarkdown documents on the web with the click of a button <a href="http://rpubs.com/" class="uri">http://rpubs.com/</a></p>
<p><img src="assets/rpubs.png" width="20%" /></p>
<p><img src="assets/rpubs_ui.jpg" width="60%" /></p>
</div>
<div id="github" class="section level5">
<h5><strong>GitHub</strong>:</h5>
<p>Host your site through <a href="https://pages.github.com/"><code>gh-pages</code></a> on GitHub. Can host entire websites, like this course material <a href="https://github.com/" class="uri">https://github.com/</a></p>
</div>
</div>
</div>
</div>
<div id="applications-of-rmd-in-research" class="section level2">
<h2>Applications of Rmd in research</h2>
<p><code>Rmd</code> documents can be useful for a number of research related materials</p>
<ul>
<li><a href="http://r-pkgs.had.co.nz/vignettes.html"><strong>Vignettes</strong></a>: long form documentation.
<ul>
<li>Analyses</li>
<li>Documentation (code &amp; data)</li>
<li>Supplementary materials</li>
</ul></li>
<li>Reports</li>
<li>Papers</li>
<li>Personal research websites and blogs</li>
<li>Theses!</li>
</ul>
<p>Useful features through <code>bookdown</code>: <a href="https://rmarkdown.rstudio.com/authoring_bibliographies_and_citations.html">bibliographies and citations</a></p>
</div>
<div id="rmd-in-practice" class="section level2">
<h2><code>Rmd</code> in Practice</h2>
<iframe src="assets/cheatsheets/rmarkdown-2.0.pdf" width="672" height="400px">
</iframe>
<div class="alert alert-success">
<div id="exercise-part-1" class="section level3">
<h3>Exercise Part 1</h3>
<p>We will use <code>Rmarkdown</code> to create a reproducible presentation document for our analysis, combining our code and it’s output with text in the form of markdown!</p>
<p>Later, once we start working with git and GitHub, we’ll also publish it online.</p>
</div>
<div id="create-your-first-.rmd" class="section level3">
<h3>Create your first <code>.Rmd</code>!</h3>
<div class="alert alert-info">
<strong>File &gt; New File &gt; RMarkdown… &gt; Document </strong>
</div>
<p><img src="assets/newmd.gif" width="80%" /></p>
<div id="save-as-index.rmd" class="section level4">
<h4>Save as <code>index.Rmd</code></h4>
<p>Before knitting, the document needs to be saved. Give it a useful name, e.g. <code>index.Rmd</code>. Index has a special meaning for websites indicating the landing page of a given url.</p>
</div>
<div id="render-index.rmd" class="section level4">
<h4>Render <code>index.Rmd</code></h4>
<p>Render the document by clicking on the <strong>knit</strong> button.</p>
<p><img src="assets/knit.png" width="30%" /></p>
<p>You can also render <code>.Rmd</code> documents to html using <code>rmarkdown</code> function <code>render()</code></p>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="literate-programming-in-rmarkdown.html#cb496-1" aria-hidden="true" tabindex="-1"></a>rmarkdown<span class="sc">::</span><span class="fu">render</span>(<span class="at">input =</span> <span class="st">&quot;index.Rmd&quot;</span>)</span></code></pre></div>
</div>
<div id="publish-your-.rmd" class="section level4">
<h4>Publish your .Rmd</h4>
<ul>
<li><p>Register an account on <a href="https://rpubs.com/">RPubs</a></p></li>
<li><p>Publish your rendered document (don’t worry, you can delete or overwrite it later)</p></li>
</ul>
</div>
</div>
</div>
<div id="complete-yaml-header" class="section level3">
<h3><strong>Complete YAML header</strong></h3>
<p>The <strong>yaml</strong> header contains metadata about the document.</p>
<p>It is contained between the <code>---</code> separators at the top of the file and is encoded as <a href="https://yaml.org/">YAML</a>, <em>a human friendly data serialization standard for all programming languages</em>.</p>
<p>The key thing to know about YAML is that <strong>indentation is extremely important!</strong>. So make sure you copy any example YAML code exactly, ensuring correct indentation. If you get errors, check your indentation.</p>
<pre><code>---
title: &quot;Untitled&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;3/23/2018&quot;
output: html_document
---</code></pre>
<div id="define-outputs" class="section level4">
<h4>Define outputs</h4>
<p>There are many output formats available in <code>.Rmd</code>.</p>
<p><img src="assets/outputs.png" width="60%" /></p>
<p>The output format is defined in the YAML header through parameter <code>output</code>.</p>
<div id="basic-html_document" class="section level5">
<h5>basic <strong><code>html_document</code></strong></h5>
<p>Markdown was originally designed for HTML output, so it may not be surprising that the HTML format has the richest features among all output formats. Here we’ll be focusing on on the <a href="https://bookdown.org/yihui/rmarkdown/html-document.html#table-of-contents"><code>html_document</code> output</a>.</p>
<p>This is the default output when creating a new blank <code>.Rmd</code>.</p>
<pre><code>
title: &quot;Untitled&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;3/23/2018&quot;
output: html_document

</code></pre>
<p><img src="assets/demo-0.png" width="90%" /></p>
</div>
</div>
<div id="add-a-floating-table-of-contents" class="section level4">
<h4>Add a floating table of contents</h4>
<p>We can add a table of contents (TOC) using the <code>toc</code> option and specify a floating toc using the <code>toc_float</code> option. For example:</p>
<pre><code>---
title: &quot;Untitled&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;3/23/2018&quot;
output:
  html_document:
    toc: true
    toc_float: true
---</code></pre>
<p><img src="assets/demo-1.png" width="90%" /></p>
</div>
<div id="choose-a-theme" class="section level4">
<h4>Choose a theme</h4>
<p>There are several options that control the appearance of HTML documents:</p>
<ul>
<li><code>theme</code> specifies the Bootstrap theme to use for the page (themes are drawn from the <a href="https://bootswatch.com/3/">Bootswatch</a> theme library). Valid themes include <code>default</code>, <code>cerulean</code>, <code>journal</code>, <code>flatly</code>, <code>darkly</code>, <code>readable</code>, <code>spacelab</code>, <code>united</code>, <code>cosmo</code>, <code>lumen</code>, <code>paper</code>, <code>sandstone</code>, <code>simplex</code>, and <code>yeti</code>.</li>
</ul>
<pre><code>---
title: &quot;Untitled&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;3/23/2018&quot;
output:
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
---</code></pre>
<p><img src="assets/demo-2.png" width="90%" /></p>
</div>
<div id="choose-code-highlights" class="section level4">
<h4>Choose code highlights</h4>
<p><code>highlight</code> specifies the syntax highlighting style. Supported styles include <code>default</code>, <code>tango</code>, <code>pygments</code>, <code>kate</code>, <code>monochrome</code>, <code>espresso</code>, <code>zenburn</code>, <code>haddock</code>, <code>breezedark</code>, and <code>textmate</code>.</p>
<pre><code>---
title: &quot;Untitled&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;3/23/2018&quot;
output:
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
    highlight: zenburn
---</code></pre>
<p><img src="assets/demo-3.png" width="90%" /></p>
</div>
</div>
<div id="exercise-part-2" class="section level3 alert alert-success">
<h3>Exercise Part 2</h3>
<div id="customise-your-own-rmd" class="section level4">
<h4>Customise your own <code>Rmd</code></h4>
<ul>
<li><p>Add a title.</p></li>
<li><p>Add your name.</p></li>
<li><p>Add a floating table of contents.</p></li>
<li><p>Set a theme of your choice (see avalable themes <a href="https://rmarkdown.rstudio.com/html_document_format.html#appearance_and_style">here</a> and the associated bootstrap styles <a href="http://bootswatch.com/">here</a>).</p></li>
<li><p>Clear everything <strong>BELOW THE YAML header</strong>. You should be left with just this:</p>
<pre><code>---
title: &quot;Analysis of NEON Woody plant vegetation structure data&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;3/23/2018&quot;
output:
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
    highlight: zenburn
---</code></pre></li>
</ul>
</div>
</div>
<div id="markdown-basics" class="section level3">
<h3><strong>Markdown basics</strong></h3>
<p>The text in an <a href="https://bookdown.org/yihui/rmarkdown/markdown-syntax.html">R Markdown document is written with the Markdown syntax</a>. Precisely speaking, it is Pandoc’s Markdown.</p>
<p>We use a small number of notations to <strong>markup</strong> our text with some common html tags</p>
<p><br></p>
<div id="text" class="section level4">
<h4><strong>text</strong></h4>
<pre><code>    normal text</code></pre>
<p>normal text</p>
<pre><code>    *italic text*</code></pre>
<p><em>italic text</em></p>
<pre><code>    **bold text**</code></pre>
<p><strong>bold text</strong></p>
<pre><code>    ***bold italic text***</code></pre>
<p><strong><em>bold italic text</em></strong></p>
<pre><code>    superscript^2^</code></pre>
<p>superscript<sup>2</sup></p>
<pre><code>    ~~strikethrough~~</code></pre>
<p><del>strikethrough</del></p>
<p><br></p>
</div>
<div id="headers" class="section level4">
<h4><strong>headers</strong></h4>
<p><strong>rmarkdown</strong></p>
<pre><code># Header 1
## Header 2
### Header 3
#### Header 4
##### Header 5
###### Header 6</code></pre>
<p><strong>rendered html</strong></p>
<p><img src="assets/headers.png" width="80%" /></p>
</div>
<div id="unordered-lists" class="section level4">
<h4><strong>unordered lists</strong></h4>
<p><strong>rmarkdown</strong></p>
<pre><code>- first item in the list
- second item in list
- third item in list</code></pre>
<p><strong>rendered html</strong></p>
<ul>
<li>first item in the list</li>
<li>second item in list</li>
<li>third item in list</li>
</ul>
</div>
<div id="ordered-lists" class="section level4">
<h4><strong>ordered lists</strong></h4>
<p><strong>rmarkdown</strong></p>
<pre><code>1. first item in the list
1. second item in list
1. third item in list</code></pre>
<p><strong>rendered html</strong></p>
<ol style="list-style-type: decimal">
<li>first item in the list</li>
<li>second item in list</li>
<li>third item in list</li>
</ol>
</div>
<div id="quotes" class="section level4">
<h4><strong>quotes</strong></h4>
<p><strong>rmarkdown</strong></p>
<pre><code>&gt; this text will be quoted</code></pre>
<p><strong>rendered html</strong></p>
<blockquote>
<p><strong>this text will be quoted</strong></p>
</blockquote>
</div>
<div id="code" class="section level4">
<h4><strong>code</strong></h4>
<div id="annotate-code-inline" class="section level5">
<h5>annotate code inline</h5>
<p><strong>rmarkdown</strong></p>
<pre><code>`this text will appear as code` inline</code></pre>
<p><strong>rendered html</strong></p>
<p><code>this text will appear as code</code> inline</p>
<p><br></p>
</div>
<div id="evaluate-r-code-inline" class="section level5">
<h5>Evaluate r code inline</h5>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb514-1"><a href="literate-programming-in-rmarkdown.html#cb514-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">10</span></span></code></pre></div>
<p><strong>rmarkdown</strong></p>
<pre><code>the value of parameter *a* is `r a`
</code></pre>
<p><strong>rendered html</strong></p>
<p>the value of parameter <em>a</em> is 10</p>
</div>
</div>
<div id="images" class="section level4">
<h4><strong>Images</strong></h4>
<p>Provide either a path to a local image file or the URL of an image.</p>
<p><strong>rmarkdown</strong></p>
<pre><code>![](assets/cheat.png)
</code></pre>
<p><strong>rendered html</strong></p>
<p><img src="assets/cheat.png" /></p>
<div id="resize-images-with-html" class="section level5">
<h5><strong>resize images with html</strong></h5>
<p><strong>html in rmarkdown</strong></p>
<pre><code>&lt;img src=&quot;assets/cheat.png&quot; width=&quot;200px&quot; /&gt;</code></pre>
<p><strong>rendered html</strong></p>
<p><img src="assets/cheat.png" width="200px" /></p>
</div>
</div>
<div id="basic-tables-in-markdown" class="section level4">
<h4><strong>Basic tables in markdown</strong></h4>
<p><strong>rmarkdown</strong></p>
<pre><code>
    Table Header  | Second Header
    - | -
    Cell 1        | Cell 2
    Cell 3        | Cell 4 </code></pre>
<p><strong>rendered html</strong></p>
<table>
<thead>
<tr class="header">
<th>Table Header</th>
<th>Second Header</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Cell 1</td>
<td>Cell 2</td>
</tr>
<tr class="even">
<td>Cell 3</td>
<td>Cell 4</td>
</tr>
</tbody>
</table>
<p>Check out handy <a href="http://www.tablesgenerator.com/markdown_tables"><strong>online .md table converter</strong></a></p>
<p><br></p>
</div>
<div id="links" class="section level4">
<h4><strong>Links</strong></h4>
<p><strong>rmarkdown</strong></p>
<pre><code>[Download R](http://www.r-project.org/)    
[RStudio](http://www.rstudio.com/)</code></pre>
<p><strong>rendered html</strong></p>
<p><a href="http://www.r-project.org/">Download R</a></p>
<p><a href="http://www.rstudio.com/">RStudio</a></p>
<p><br></p>
</div>
<div id="mathematical-expressions" class="section level4">
<h4>Mathematical expressions</h4>
<p>Supports mathematical notations through <a href="http://www.onemathematicalcat.org/MathJaxDocumentation/TeXSyntax.htm">MathJax</a>.</p>
<p>You can write LaTeX math expressions inside a pair of dollar signs, e.g. <code>$\alpha+\beta$</code> renders <span class="math inline">\(\alpha+\beta\)</span>. You can use the display style with double dollar signs:</p>
<pre><code>$$\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i$$</code></pre>
<p><span class="math display">\[\bar{X}=\frac{1}{n}\sum_{i=1}^nX_i\]</span></p>
</div>
<div id="exercise-part-3" class="section level4 alert alert-success">
<h4>💻 Exercise: Part 3</h4>
<div id="create-a-background-section-using-headers" class="section level5">
<h5>Create a <code>"Background"</code> section using headers</h5>
<div id="write-a-short-description-of-the-data-set-and-analysis" class="section level6">
<h6>Write a short description of the data set and analysis</h6>
<p>Write a short description of the NEON Woody plant vegetation structure dataset and the objective of the analysis.</p>
<p>Have a look at the page on the <a href="https://data.neonscience.org/data-products/DP1.10098.001">NEON data portal</a> for inspiration.</p>
<p>Make use of markdown annotation to:</p>
<ul>
<li><em>highlight</em> <strong>important</strong> <strong><em>information</em></strong></li>
<li>include links to sources or further information.</li>
</ul>
</div>
</div>
<div id="add-an-image" class="section level5">
<h5>Add an image</h5>
<p>Add an <strong>image related to the data</strong>.</p>
<ul>
<li>perhaps a logo or a relevant image to the organisms in question</li>
<li>have a look online, especially on sites like <a href="https://unsplash.com/">unsplash</a> that offer free to use images.</li>
<li>include the source URL underneath for attribution.</li>
<li>see if you can resize it.</li>
</ul>
</div>
</div>
</div>
<div id="chunks-inline-r-code" class="section level3">
<h3>Chunks &amp; Inline R code</h3>
<blockquote>
<p><strong>R code chunks execute code.</strong></p>
</blockquote>
<p>They can be used as a means to perform computations, render R output like text, tables, or graphics into documents or to simply display code for illustration without evaluating it.</p>
<p><img src="assets/markdownChunk.png" width="90%" /></p>
<div id="inserting-new-chunks" class="section level4">
<h4><strong>Inserting new chunks</strong></h4>
<p>You can quickly insert an <a href="https://bookdown.org/yihui/rmarkdown/r-code.html">R code chunk</a> with:</p>
<ul>
<li>the keyboard shortcut <strong><code>Ctrl + Alt + I</code></strong> (<strong>OS X: <code>Cmd + Option + I</code></strong>)</li>
<li>the Add Chunk <img src="https://d33wubrfki0l68.cloudfront.net/b8b19518e688e3ca1390e0a1588916f04908d33f/8a4dc/images/notebook-insert-chunk.png" /> command in the RStudio toolbar</li>
<li>by typing the chunk delimiters <code>```{r} and ```</code>.</li>
</ul>
</div>
<div id="chunk-notation" class="section level4">
<h4><strong>Chunk notation</strong></h4>
<p><strong>chunk notation in <code>.rmd</code></strong></p>
<pre><code>```{r chunk-name}
print(&#39;hello world!&#39;)
```</code></pre>
<p><strong>rendered html code and output</strong></p>
<div class="sourceCode" id="cb522"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb522-1"><a href="literate-programming-in-rmarkdown.html#cb522-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;hello world!&#39;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;hello world!&quot;</code></pre>
<p>Chunks can be labelled with chunk names, names must be unique.</p>
<div class="sourceCode" id="cb524"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb524-1"><a href="literate-programming-in-rmarkdown.html#cb524-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r chunk-label}</span></span></code></pre></div>
</div>
<div id="chunk-options" class="section level4">
<h4><strong>Chunk options</strong></h4>
<p>Chunk options control how code and outputs are evaluated and presented.</p>
<ul>
<li><p>You have fine control over all these output via chunk options, which can be provided inside the curly braces (between <code>```{r</code> and <code>}</code>).</p></li>
<li><p>Chunk options are separated by commas, e.g.:</p>
<div class="sourceCode" id="cb525"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb525-1"><a href="literate-programming-in-rmarkdown.html#cb525-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, results=&#39;hide&#39;, fig.height=4}</span></span></code></pre></div></li>
</ul>
<p><img src="assets/chunks.png" width="80%" /></p>
<p>for more details see <a href="http://yihui.name/knitr/" class="uri">http://yihui.name/knitr/</a></p>
<div id="controlling-code-display-with-echo" class="section level5">
<h5>controlling code display with <code>echo</code></h5>
<p><strong>chunk notation in <code>.rmd</code></strong></p>
<pre><code>```{r hide-code, echo=FALSE}
print(&#39;hello world!&#39;)
```</code></pre>
<p><strong>rendered html code and output</strong></p>
<pre><code>## [1] &quot;hello world!&quot;</code></pre>
</div>
</div>
<div id="controlling-code-evaluation-with-eval" class="section level4">
<h4>controlling code evaluation with <code>eval</code></h4>
<p><strong>chunk notation in <code>.rmd</code></strong></p>
<pre><code>```{r dont-eval, eval=FALSE}
print(&#39;hello world!&#39;)
```</code></pre>
<p><strong>rendered html code and output</strong></p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="literate-programming-in-rmarkdown.html#cb529-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&#39;hello world!&#39;</span>)</span></code></pre></div>
</div>
<div id="setting-document-level-default-options" class="section level4">
<h4>setting document level default options</h4>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb530-1"><a href="literate-programming-in-rmarkdown.html#cb530-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span>opts_chunk<span class="sc">$</span><span class="fu">set</span>(<span class="at">echo =</span> <span class="cn">TRUE</span>, <span class="at">warning =</span> F, <span class="at">message =</span> F)</span></code></pre></div>
</div>
<div id="reading-chunks-of-code-from-an-r-script" class="section level4">
<h4><strong>reading chunks of code from an <code>R</code> script</strong></h4>
<div class="alert alert-info">
<blockquote>
<p><code>R</code> -&gt; <code>Rmd</code></p>
</blockquote>
<p>We can also read in chunks of code from an annotated <code>.R</code> (or any other language) script using <code>knitr::read_chunks()</code></p>
<p>This is extremely powerful beacuse it means we can recycle code and more importantly, present an analysis while maintaining a single copy of the source code in a separate script.</p>
</div>
<div id="marking-up-chunks-in-a-script" class="section level5">
<h5>Marking up chunks in a script</h5>
<p>Chunks are defined by the <strong>following notation in scripts <code>## @knitr</code></strong>. <strong>Names must be unique</strong> and there must be <strong>no empty code lines or other comments in between</strong>.</p>
<pre><code>## @knitr descriptive-chunk-name1
code(&quot;you want to run as a chunk&quot;)

## @knitr descriptive-chunk-name2 -
code(&quot;you want to run as a chunk&quot;)</code></pre>
<p>Chunks are read in using:</p>
<div class="sourceCode" id="cb532"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb532-1"><a href="literate-programming-in-rmarkdown.html#cb532-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(<span class="st">&quot;path/to/Rscript&quot;</span>)</span></code></pre></div>
</div>
<div id="call-chunk-by-name" class="section level5">
<h5>Call chunk by name</h5>
<p>Once the script is read in with <code>knitr::read_chunk()</code>, we can <strong>call</strong> individual chunks using their name.</p>
<p><strong>rmarkdown r chunk notation</strong></p>
<pre><code>```{r descriptive-chunk-name1}

```</code></pre>
</div>
<div id="read_chunk-example" class="section level5">
<h5><code>read_chunk</code> example</h5>
<div id="code-in-.r-script-hello-world.r" class="section level6">
<h6>code in <code>.R</code> script <strong><code>hello-world.R</code></strong></h6>
<p><strong><code>hello-world.R</code></strong></p>
<pre><code>## @knitr demo-read_chunk
print(&quot;hello world&quot;)</code></pre>
</div>
<div id="read-chunks-from-hello-world.r" class="section level6">
<h6>Read chunks from <code>hello-world.R</code></h6>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="literate-programming-in-rmarkdown.html#cb535-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">read_chunk</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;demos&quot;</span>,<span class="st">&quot;hello-world.R&quot;</span>))</span></code></pre></div>
</div>
<div id="call-chunk-by-name-1" class="section level6">
<h6>Call chunk by name</h6>
<p><strong>rmarkdown r chunk notation</strong></p>
<pre><code>```{r demo-read_chunk}

```</code></pre>
<p><strong>rendered html code and output</strong></p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="literate-programming-in-rmarkdown.html#cb537-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;hello world&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;hello world&quot;</code></pre>
</div>
<div id="check-chunks-in-the-current-session" class="section level6">
<h6>Check chunks in the current session</h6>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="literate-programming-in-rmarkdown.html#cb539-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">:::</span>knit_code<span class="sc">$</span><span class="fu">get</span>()  </span></code></pre></div>
</div>
</div>
</div>
<div class="alert alert-success">
<div id="exercise-part-4" class="section level4">
<h4>💻 Exercise Part 4</h4>
<p>For this exercise we’ll create a <strong>Data</strong> section, load our data in and present some summaries. We’ll use code contained in our analysis script.</p>
</div>
<div id="annotate-chunks-in-analysis.r-script" class="section level4">
<h4>Annotate chunks in <code>analysis.R</code> script</h4>
<ul>
<li><p>Annotate each chunk with the special comment <code>## @knitr</code> followed by a space and the unique code chunk name.</p></li>
<li><p>When finished, your script should look like:</p>
<div class="sourceCode" id="cb540"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb540-1"><a href="literate-programming-in-rmarkdown.html#cb540-1" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-setup</span></span>
<span id="cb540-2"><a href="literate-programming-in-rmarkdown.html#cb540-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb540-3"><a href="literate-programming-in-rmarkdown.html#cb540-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb540-4"><a href="literate-programming-in-rmarkdown.html#cb540-4" aria-hidden="true" tabindex="-1"></a>individual <span class="ot">&lt;-</span> readr<span class="sc">::</span><span class="fu">read_csv</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, </span>
<span id="cb540-5"><a href="literate-programming-in-rmarkdown.html#cb540-5" aria-hidden="true" tabindex="-1"></a>                                         <span class="st">&quot;individual.csv&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb540-6"><a href="literate-programming-in-rmarkdown.html#cb540-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(stem_diameter, height, growth_form)</span>
<span id="cb540-7"><a href="literate-programming-in-rmarkdown.html#cb540-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-8"><a href="literate-programming-in-rmarkdown.html#cb540-8" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-filter-data</span></span>
<span id="cb540-9"><a href="literate-programming-in-rmarkdown.html#cb540-9" aria-hidden="true" tabindex="-1"></a>analysis_df <span class="ot">&lt;-</span> individual <span class="sc">%&gt;%</span></span>
<span id="cb540-10"><a href="literate-programming-in-rmarkdown.html#cb540-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(growth_form), growth_form <span class="sc">!=</span> <span class="st">&quot;liana&quot;</span>)</span>
<span id="cb540-11"><a href="literate-programming-in-rmarkdown.html#cb540-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-12"><a href="literate-programming-in-rmarkdown.html#cb540-12" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-set-factor-levels</span></span>
<span id="cb540-13"><a href="literate-programming-in-rmarkdown.html#cb540-13" aria-hidden="true" tabindex="-1"></a>gf_levels <span class="ot">&lt;-</span> <span class="fu">table</span>(analysis_df<span class="sc">$</span>growth_form) <span class="sc">%&gt;%</span></span>
<span id="cb540-14"><a href="literate-programming-in-rmarkdown.html#cb540-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">sort</span>() <span class="sc">%&gt;%</span></span>
<span id="cb540-15"><a href="literate-programming-in-rmarkdown.html#cb540-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>()</span>
<span id="cb540-16"><a href="literate-programming-in-rmarkdown.html#cb540-16" aria-hidden="true" tabindex="-1"></a>analysis_df <span class="ot">&lt;-</span> analysis_df <span class="sc">%&gt;%</span></span>
<span id="cb540-17"><a href="literate-programming-in-rmarkdown.html#cb540-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">growth_form =</span> <span class="fu">factor</span>(growth_form, </span>
<span id="cb540-18"><a href="literate-programming-in-rmarkdown.html#cb540-18" aria-hidden="true" tabindex="-1"></a>                                <span class="at">levels =</span> gf_levels))</span>
<span id="cb540-19"><a href="literate-programming-in-rmarkdown.html#cb540-19" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-fig1-barplot</span></span>
<span id="cb540-20"><a href="literate-programming-in-rmarkdown.html#cb540-20" aria-hidden="true" tabindex="-1"></a>analysis_df <span class="sc">%&gt;%</span></span>
<span id="cb540-21"><a href="literate-programming-in-rmarkdown.html#cb540-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> growth_form, <span class="at">colour =</span> growth_form, </span>
<span id="cb540-22"><a href="literate-programming-in-rmarkdown.html#cb540-22" aria-hidden="true" tabindex="-1"></a>               <span class="at">fill =</span> growth_form)) <span class="sc">+</span></span>
<span id="cb540-23"><a href="literate-programming-in-rmarkdown.html#cb540-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_bar</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>)</span>
<span id="cb540-24"><a href="literate-programming-in-rmarkdown.html#cb540-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-25"><a href="literate-programming-in-rmarkdown.html#cb540-25" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-fig2-violinplots</span></span>
<span id="cb540-26"><a href="literate-programming-in-rmarkdown.html#cb540-26" aria-hidden="true" tabindex="-1"></a>analysis_df <span class="sc">%&gt;%</span></span>
<span id="cb540-27"><a href="literate-programming-in-rmarkdown.html#cb540-27" aria-hidden="true" tabindex="-1"></a>    tidyr<span class="sc">::</span><span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(stem_diameter, height),</span>
<span id="cb540-28"><a href="literate-programming-in-rmarkdown.html#cb540-28" aria-hidden="true" tabindex="-1"></a>                        <span class="at">names_to =</span> <span class="st">&quot;var&quot;</span>,</span>
<span id="cb540-29"><a href="literate-programming-in-rmarkdown.html#cb540-29" aria-hidden="true" tabindex="-1"></a>                        <span class="at">values_to =</span> <span class="st">&quot;value&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb540-30"><a href="literate-programming-in-rmarkdown.html#cb540-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(value), <span class="at">y =</span> growth_form,</span>
<span id="cb540-31"><a href="literate-programming-in-rmarkdown.html#cb540-31" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> growth_form, <span class="at">fill =</span> growth_form)) <span class="sc">+</span></span>
<span id="cb540-32"><a href="literate-programming-in-rmarkdown.html#cb540-32" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_violin</span>(<span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb540-33"><a href="literate-programming-in-rmarkdown.html#cb540-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">alpha =</span> <span class="fl">0.7</span>, <span class="at">show.legend =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb540-34"><a href="literate-programming-in-rmarkdown.html#cb540-34" aria-hidden="true" tabindex="-1"></a>    <span class="fu">facet_grid</span>(<span class="sc">~</span>var)</span>
<span id="cb540-35"><a href="literate-programming-in-rmarkdown.html#cb540-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-36"><a href="literate-programming-in-rmarkdown.html#cb540-36" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-lm-overall</span></span>
<span id="cb540-37"><a href="literate-programming-in-rmarkdown.html#cb540-37" aria-hidden="true" tabindex="-1"></a>lm_overall <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(stem_diameter) <span class="sc">~</span> <span class="fu">log</span>(height), </span>
<span id="cb540-38"><a href="literate-programming-in-rmarkdown.html#cb540-38" aria-hidden="true" tabindex="-1"></a>                 analysis_df)</span>
<span id="cb540-39"><a href="literate-programming-in-rmarkdown.html#cb540-39" aria-hidden="true" tabindex="-1"></a>lm_overall <span class="sc">%&gt;%</span></span>
<span id="cb540-40"><a href="literate-programming-in-rmarkdown.html#cb540-40" aria-hidden="true" tabindex="-1"></a>    broom<span class="sc">::</span><span class="fu">glance</span>()</span>
<span id="cb540-41"><a href="literate-programming-in-rmarkdown.html#cb540-41" aria-hidden="true" tabindex="-1"></a>lm_overall <span class="sc">%&gt;%</span></span>
<span id="cb540-42"><a href="literate-programming-in-rmarkdown.html#cb540-42" aria-hidden="true" tabindex="-1"></a>    broom<span class="sc">::</span><span class="fu">tidy</span>()</span>
<span id="cb540-43"><a href="literate-programming-in-rmarkdown.html#cb540-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-44"><a href="literate-programming-in-rmarkdown.html#cb540-44" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-lm-fig3-overall</span></span>
<span id="cb540-45"><a href="literate-programming-in-rmarkdown.html#cb540-45" aria-hidden="true" tabindex="-1"></a>analysis_df <span class="sc">%&gt;%</span></span>
<span id="cb540-46"><a href="literate-programming-in-rmarkdown.html#cb540-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(height), <span class="at">y =</span> <span class="fu">log</span>(stem_diameter))) <span class="sc">+</span></span>
<span id="cb540-47"><a href="literate-programming-in-rmarkdown.html#cb540-47" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb540-48"><a href="literate-programming-in-rmarkdown.html#cb540-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span>
<span id="cb540-49"><a href="literate-programming-in-rmarkdown.html#cb540-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-50"><a href="literate-programming-in-rmarkdown.html#cb540-50" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-lm-growth</span></span>
<span id="cb540-51"><a href="literate-programming-in-rmarkdown.html#cb540-51" aria-hidden="true" tabindex="-1"></a>lm_growth <span class="ot">&lt;-</span> <span class="fu">lm</span>(<span class="fu">log</span>(stem_diameter) <span class="sc">~</span> <span class="fu">log</span>(height) <span class="sc">*</span> growth_form,</span>
<span id="cb540-52"><a href="literate-programming-in-rmarkdown.html#cb540-52" aria-hidden="true" tabindex="-1"></a>                analysis_df)</span>
<span id="cb540-53"><a href="literate-programming-in-rmarkdown.html#cb540-53" aria-hidden="true" tabindex="-1"></a>lm_growth <span class="sc">%&gt;%</span></span>
<span id="cb540-54"><a href="literate-programming-in-rmarkdown.html#cb540-54" aria-hidden="true" tabindex="-1"></a>    broom<span class="sc">::</span><span class="fu">glance</span>()</span>
<span id="cb540-55"><a href="literate-programming-in-rmarkdown.html#cb540-55" aria-hidden="true" tabindex="-1"></a>lm_growth <span class="sc">%&gt;%</span></span>
<span id="cb540-56"><a href="literate-programming-in-rmarkdown.html#cb540-56" aria-hidden="true" tabindex="-1"></a>    broom<span class="sc">::</span><span class="fu">tidy</span>()</span>
<span id="cb540-57"><a href="literate-programming-in-rmarkdown.html#cb540-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb540-58"><a href="literate-programming-in-rmarkdown.html#cb540-58" aria-hidden="true" tabindex="-1"></a><span class="do">## @knitr analysis-lm-fig4-growth</span></span>
<span id="cb540-59"><a href="literate-programming-in-rmarkdown.html#cb540-59" aria-hidden="true" tabindex="-1"></a>analysis_df <span class="sc">%&gt;%</span></span>
<span id="cb540-60"><a href="literate-programming-in-rmarkdown.html#cb540-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">log</span>(height), <span class="at">y =</span> <span class="fu">log</span>(stem_diameter),</span>
<span id="cb540-61"><a href="literate-programming-in-rmarkdown.html#cb540-61" aria-hidden="true" tabindex="-1"></a>               <span class="at">colour =</span> growth_form)) <span class="sc">+</span></span>
<span id="cb540-62"><a href="literate-programming-in-rmarkdown.html#cb540-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb540-63"><a href="literate-programming-in-rmarkdown.html#cb540-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div></li>
</ul>
</div>
<div id="create-a-data-section-and" class="section level3">
<h3>Create a <strong>Data</strong> section and</h3>
<ul>
<li>Create a <strong>Data</strong> section using headers.</li>
<li>In a hiden chunk of code, read in the chunks from <code>analysis.R</code> using <code>knitr::read_chunk()</code>.</li>
<li>Load the data by creating a new chunk invoking the <code>analysis-setup</code> chunk.</li>
<li>Create some additional chunks and present statistical summaries (eg using <code>summary()</code>).</li>
<li>Add some simple markdown notes about what the code has been doing.</li>
<li>See if you can include the number of <code>rows</code> and <code>columns</code> in an inline description of the dataset (hint: use <code>nrow()</code> &amp; <code>ncol()</code>.</li>
</ul>
</div>
</div>
</div>
<div id="displaying-data" class="section level3">
<h3>Displaying data</h3>
<p>There are many ways you can display data and data properties in an <code>.Rmd</code>.</p>
<div id="printing-tibbless" class="section level5">
<h5>printing <code>tibbles</code>s</h5>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="literate-programming-in-rmarkdown.html#cb541-1" aria-hidden="true" tabindex="-1"></a>tibble<span class="sc">::</span><span class="fu">as_tibble</span>(airquality)</span></code></pre></div>
<pre><code>## # A tibble: 153 x 6
##    Ozone Solar.R  Wind  Temp Month   Day
##    &lt;int&gt;   &lt;int&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
##  1    41     190   7.4    67     5     1
##  2    36     118   8      72     5     2
##  3    12     149  12.6    74     5     3
##  4    18     313  11.5    62     5     4
##  5    NA      NA  14.3    56     5     5
##  6    28      NA  14.9    66     5     6
##  7    23     299   8.6    65     5     7
##  8    19      99  13.8    59     5     8
##  9     8      19  20.1    61     5     9
## 10    NA     194   8.6    69     5    10
## # … with 143 more rows</code></pre>
</div>
<div id="displaying-knitrkable-tables" class="section level5">
<h5><strong><code>Displaying knitr::kable()</code> tables</strong></h5>
<p>We can use other packages to create html tables from our data.</p>
<p>The simplest is to use the <code>knitr::kable()</code> function.</p>
<div class="sourceCode" id="cb543"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb543-1"><a href="literate-programming-in-rmarkdown.html#cb543-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(<span class="fu">head</span>(airquality), <span class="at">caption =</span> <span class="st">&quot;New York Air Quality Measurements&quot;</span>)</span></code></pre></div>
<table>
<caption><span id="tab:unnamed-chunk-339">Table 1: </span>New York Air Quality Measurements</caption>
<thead>
<tr class="header">
<th align="right">Ozone</th>
<th align="right">Solar.R</th>
<th align="right">Wind</th>
<th align="right">Temp</th>
<th align="right">Month</th>
<th align="right">Day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">41</td>
<td align="right">190</td>
<td align="right">7.4</td>
<td align="right">67</td>
<td align="right">5</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">36</td>
<td align="right">118</td>
<td align="right">8.0</td>
<td align="right">72</td>
<td align="right">5</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="right">149</td>
<td align="right">12.6</td>
<td align="right">74</td>
<td align="right">5</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="right">313</td>
<td align="right">11.5</td>
<td align="right">62</td>
<td align="right">5</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">14.3</td>
<td align="right">56</td>
<td align="right">5</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="right">28</td>
<td align="right">NA</td>
<td align="right">14.9</td>
<td align="right">66</td>
<td align="right">5</td>
<td align="right">6</td>
</tr>
</tbody>
</table>
</div>
<div id="displaying-interactive-dtdatatable-tables" class="section level4">
<h4><strong>Displaying interactive <code>DT::datatable()</code> tables</strong></h4>
<p>You can display interactive html tables using function <code>DT::datatable()</code>:</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb544-1"><a href="literate-programming-in-rmarkdown.html#cb544-1" aria-hidden="true" tabindex="-1"></a>DT<span class="sc">::</span><span class="fu">datatable</span>(airquality, <span class="at">caption =</span> <span class="st">&quot;New York Air Quality Measurements&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-f4d80b825074e8f6dbf1" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-f4d80b825074e8f6dbf1">{"x":{"filter":"none","caption":"<caption>New York Air Quality Measurements<\/caption>","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153"],[41,36,12,18,null,28,23,19,8,null,7,16,11,14,18,14,34,6,30,11,1,11,4,32,null,null,null,23,45,115,37,null,null,null,null,null,null,29,null,71,39,null,null,23,null,null,21,37,20,12,13,null,null,null,null,null,null,null,null,null,null,135,49,32,null,64,40,77,97,97,85,null,10,27,null,7,48,35,61,79,63,16,null,null,80,108,20,52,82,50,64,59,39,9,16,78,35,66,122,89,110,null,null,44,28,65,null,22,59,23,31,44,21,9,null,45,168,73,null,76,118,84,85,96,78,73,91,47,32,20,23,21,24,44,21,28,9,13,46,18,13,24,16,13,23,36,7,14,30,null,14,18,20],[190,118,149,313,null,null,299,99,19,194,null,256,290,274,65,334,307,78,322,44,8,320,25,92,66,266,null,13,252,223,279,286,287,242,186,220,264,127,273,291,323,259,250,148,332,322,191,284,37,120,137,150,59,91,250,135,127,47,98,31,138,269,248,236,101,175,314,276,267,272,175,139,264,175,291,48,260,274,285,187,220,7,258,295,294,223,81,82,213,275,253,254,83,24,77,null,null,null,255,229,207,222,137,192,273,157,64,71,51,115,244,190,259,36,255,212,238,215,153,203,225,237,188,167,197,183,189,95,92,252,220,230,259,236,259,238,24,112,237,224,27,238,201,238,14,139,49,20,193,145,191,131,223],[7.4,8,12.6,11.5,14.3,14.9,8.6,13.8,20.1,8.6,6.9,9.7,9.2,10.9,13.2,11.5,12,18.4,11.5,9.7,9.7,16.6,9.7,12,16.6,14.9,8,12,14.9,5.7,7.4,8.6,9.7,16.1,9.2,8.6,14.3,9.7,6.9,13.8,11.5,10.9,9.2,8,13.8,11.5,14.9,20.7,9.2,11.5,10.3,6.3,1.7,4.6,6.3,8,8,10.3,11.5,14.9,8,4.1,9.2,9.2,10.9,4.6,10.9,5.1,6.3,5.7,7.4,8.6,14.3,14.9,14.9,14.3,6.9,10.3,6.3,5.1,11.5,6.9,9.7,11.5,8.6,8,8.6,12,7.4,7.4,7.4,9.2,6.9,13.8,7.4,6.9,7.4,4.6,4,10.3,8,8.6,11.5,11.5,11.5,9.7,11.5,10.3,6.3,7.4,10.9,10.3,15.5,14.3,12.6,9.7,3.4,8,5.7,9.7,2.3,6.3,6.3,6.9,5.1,2.8,4.6,7.4,15.5,10.9,10.3,10.9,9.7,14.9,15.5,6.3,10.9,11.5,6.9,13.8,10.3,10.3,8,12.6,9.2,10.3,10.3,16.6,6.9,13.2,14.3,8,11.5],[67,72,74,62,56,66,65,59,61,69,74,69,66,68,58,64,66,57,68,62,59,73,61,61,57,58,57,67,81,79,76,78,74,67,84,85,79,82,87,90,87,93,92,82,80,79,77,72,65,73,76,77,76,76,76,75,78,73,80,77,83,84,85,81,84,83,83,88,92,92,89,82,73,81,91,80,81,82,84,87,85,74,81,82,86,85,82,86,88,86,83,81,81,81,82,86,85,87,89,90,90,92,86,86,82,80,79,77,79,76,78,78,77,72,75,79,81,86,88,97,94,96,94,91,92,93,93,87,84,80,78,75,73,81,76,77,71,71,78,67,76,68,82,64,71,81,69,63,70,77,75,76,68],[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9,9],[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Ozone<\/th>\n      <th>Solar.R<\/th>\n      <th>Wind<\/th>\n      <th>Temp<\/th>\n      <th>Month<\/th>\n      <th>Day<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":[1,2,3,4,5,6]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script>
</div>
<div id="exercise-part-5" class="section level4 alert alert-success">
<h4>💻 Exercise Part 5</h4>
<div id="display-the-data" class="section level5">
<h5>Display the data</h5>
<p>Choose any method you prefer and create a new chunk to display the data in the <strong>Data</strong> section.</p>
</div>
</div>
<div class="alert alert-success">
<div id="exercise-part-6" class="section level4">
<h4>💻 Exercise Part 6</h4>
<div id="write-the-analysis-section" class="section level5">
<h5>Write the analysis section</h5>
<ul>
<li>Create a new section called <strong>Analysis</strong>.</li>
<li>Create chunks and invoke the rest of the steps in our analysis.</li>
<li>Use lower level headers to break down the workflow and include some minimal explanatory text.</li>
<li>Add a caption to each figure.</li>
<li>Experiment with controlling figure output width or height using chunk options <code>fig.width</code> or <code>fig.height</code>.</li>
</ul>
<p>Details on <a href="https://bookdown.org/yihui/rmarkdown/r-code.html#figures">chunk arguments related to plotting</a></p>
</div>
</div>
<div id="end-the-document-with-a-session-info-section" class="section level4">
<h4>End the document with a <strong>Session Info</strong> Section</h4>
<ul>
<li>Create a new section called <strong>Session Info</strong></li>
<li>Create a new chunk and use function <code>sessionInfo()</code> to print session information about your analysis environment</li>
</ul>
</div>
</div>
<p>My final <code>index.Rmd</code> looks like this:</p>
<pre><code>---
title: &quot;Analysis of NEON Woody plant vegetation structure data&quot;
author: &quot;Anna Krystalli&quot;
date: &quot;2021-05-05&quot;
output: 
  html_document:
    toc: true
    toc_float: true
    theme: cosmo
    highlight: zenburn
---


# Background

&lt;img src=&quot;https://data.neonscience.org/data-products/static/media/NSF-NEON-logo.192b6661.png&quot; width=&quot;40%&quot;&gt;

The [NEON Woody plant vegetation structure dataset](https://data.neonscience.org/data-products/DP1.10098.001) contains structure measurements, including height, canopy diameter, and stem diameter, as well as mapped position of individual woody plants across the survey area.

This data product contains the quality-controlled, native sampling resolution data from in-situ measurements of live and standing dead woody individuals and shrub groups, from all terrestrial NEON sites with qualifying woody vegetation. The exact measurements collected per individual depend on growth form, and these measurements are focused on enabling biomass and productivity estimation, estimation of shrub volume and biomass, and calibration / validation of multiple NEON airborne remote-sensing data products. 

Our analyses focus on the **relationship between individual stem height and diameter** and how that relationship **varies across growth forms**.

# Data

The data were downloaded from the NEON data portal and processed into a single table using script `data-raw/individual.R`

```{r, echo = FALSE}
knitr::opts_chunk$set(message = FALSE)
```

```{r read-chunks, echo=FALSE}
knitr::read_chunk(&quot;analysis.R&quot;)
```

## Read in data and setup analysis

First we read in the data and select only the columns we are interested in, i.e `stem_diameter`, `height` and `growth_form`

```{r analysis-setup}

```

```{r}
summary(individual)
```


## Prepare data

To prepare the data we exclude rows for which the value of `growth_form` was `NA` or `liana`.
```{r analysis-filter-data}

```

We also convert `growth_form` to a factor and set the levels according to ascending counts of each level in the raw data.

```{r analysis-set-factor-levels}

```

```{r, echo=FALSE}
DT::datatable(analysis_df, caption = &quot;Table 1: Prepared analysis data&quot;)
```

## Data properties

### Statistical summaries of variables

```{r}
summary(analysis_df)
```

```{r analysis-fig1-barplot, fig.cap=&quot;Figure 1: Counts of growth forms&quot;}

```

```{r analysis-fig2-violinplots, fig.cap=&quot;Figure 2: Distribution and statistical summaries of stem_diameter and height across growth_forms&quot;}

```

# Analysis

## Modelling overall `stem_diameter` as a function of `height`

Initially we fit a linear model of form `log(stem_diameter)` as a function of `log(height)`

```{r analysis-lm-overall}

```

Our model is statistically significant and has modest coverage, indicated by `r.squared` of `r broom::glance(lm_overall)$r.squared`

```{r analysis-lm-fig3-overall}

```

However, plotting our data reveals sub groups in the data. We can examine whether including `growth_form` in our analysis would improve our model fit by capturing variation explained by differing relationships across growth forms

## Including an interaction with `growth_form`

We fit another model, this time including an interaction term for variable `growth_form`
```{r analysis-lm-growth}

```

Our model is still significant but this time explains a larger proportion of the variation (`r broom::glance(lm_growth)$r.squared`).

```{r analysis-lm-fig4-growth, fig.cap=&quot;Figure 4: Log stem diameter as a function of the interaction of log height and growth form&quot;}

```

# Session Info

```{r}
sessionInfo()

```</code></pre>
<p>and renders to:</p>
<iframe src="appendices/index.html" width="672" height="400px">
</iframe>
<div id="exercise-part-7-publish-your-work" class="section level4 alert alert-success">
<h4>Exercise Part 7 Publish your work</h4>
<div id="publish-your-report-on-rpubs" class="section level5">
<h5>Publish your report on <a href="https://rpubs.com/">Rpubs</a></h5>
<ul>
<li>Add the link to your published document to our <a href="https://bit.ly/acce20-notepad">collaborative notepad</a></li>
</ul>
</div>
</div>
</div>
</div>
<div id="advanced-.rmd" class="section level2">
<h2>Advanced <code>.Rmd</code></h2>
<div id="extracting-code-from-an-.rmd" class="section level3">
<h3><strong>Extracting code from an <code>.Rmd</code></strong></h3>
<blockquote>
<p><code>Rmd</code> -&gt; <code>R</code></p>
</blockquote>
<p>You can use <code>knitr::purl()</code> to <em>tangle</em> code out of an <code>Rmd</code> into an <code>.R</code> script. <strong><code>purl</code></strong> takes many of the same arguments as <code>knit()</code>. The most important additional argument is:</p>
<ul>
<li><strong><code>documentation</code>:</strong> an integer specifying the level of documentation to go the tangled script:
<ul>
<li><strong>0</strong> means pure code (discard all text chunks)</li>
<li><strong>1</strong> (default) means add the chunk headers to code</li>
<li><strong>2</strong> means add all text chunks to code as roxygen comments</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="literate-programming-in-rmarkdown.html#cb546-1" aria-hidden="true" tabindex="-1"></a><span class="fu">purl</span>(<span class="st">&quot;file-to-extract-code-from.Rmd&quot;</span>, <span class="at">documentation =</span> <span class="dv">0</span>)</span></code></pre></div>
<div id="extract-using-purl" class="section level4">
<h4>extract using <code>purl</code></h4>
<p>Here i’m running a loop to <strong>extract the code in <code>demo-rmd.Rmd</code></strong> for each documentation level</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb547-1"><a href="literate-programming-in-rmarkdown.html#cb547-1" aria-hidden="true" tabindex="-1"></a>file <span class="ot">&lt;-</span> here<span class="sc">::</span><span class="fu">here</span>(<span class="st">&quot;demos&quot;</span>,<span class="st">&quot;demo-rmd.Rmd&quot;</span>)</span>
<span id="cb547-2"><a href="literate-programming-in-rmarkdown.html#cb547-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(docu <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">2</span>){</span>
<span id="cb547-3"><a href="literate-programming-in-rmarkdown.html#cb547-3" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">purl</span>(file, <span class="at">output =</span> <span class="fu">paste0</span>(<span class="fu">gsub</span>(<span class="st">&quot;.Rmd&quot;</span>, <span class="st">&quot;&quot;</span>, file), <span class="st">&quot;_&quot;</span>, docu, <span class="st">&quot;.R&quot;</span>),</span>
<span id="cb547-4"><a href="literate-programming-in-rmarkdown.html#cb547-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">documentation =</span> docu, <span class="at">quiet =</span> T)</span>
<span id="cb547-5"><a href="literate-programming-in-rmarkdown.html#cb547-5" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<div id="demo-rmd_0.r" class="section level5">
<h5><strong><code>demo-rmd_0.R</code></strong></h5>
<pre><code>knitr::opts_chunk$set(echo = TRUE)
summary(cars)
plot(pressure)</code></pre>
</div>
<div id="demo-rmd_1.r" class="section level5">
<h5><strong><code>demo-rmd_1.R</code></strong></h5>
<pre><code>## ----setup, include=FALSE------------------------------------------------
knitr::opts_chunk$set(echo = TRUE)

## ----cars----------------------------------------------------------------
summary(cars)

## ----pressure, echo=FALSE------------------------------------------------
plot(pressure)</code></pre>
</div>
<div id="demo-rmd_2.r" class="section level5">
<h5><strong><code>demo-rmd_2.R</code></strong></h5>
<pre><code>#&#39; ---
#&#39; title: &quot;Untitled&quot;
#&#39; author: &quot;Anna Krystalli&quot;
#&#39; date: &quot;3/23/2018&quot;
#&#39; output:
#&#39;   html_document:
#&#39;     toc: true
#&#39;     toc_float: true
#&#39;     theme: cosmo
#&#39;     highlight: textmate
#&#39; 
#&#39; ---
#&#39; 
## ----setup, include=FALSE------------------------------------------------
knitr::opts_chunk$set(echo = TRUE)

#&#39; 
#&#39; ## R Markdown
#&#39; 
#&#39; 
#&#39; This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see &lt;http://rmarkdown.rstudio.com&gt;.
#&#39; 
#&#39; When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:
#&#39; 
## ----cars----------------------------------------------------------------
summary(cars)

#&#39; 
#&#39; ## Including Plots
#&#39; 
#&#39; You can also embed plots, for example:
#&#39; 
## ----pressure, echo=FALSE------------------------------------------------
plot(pressure)

#&#39; 
#&#39; Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
#&#39; 
#&#39; </code></pre>
</div>
</div>
<div id="exercise-part-8" class="section level4 alert alert-success">
<h4>💻 Exercise: Part 8*</h4>
<div id="purl-your-document" class="section level5">
<h5>purl your document</h5>
<p>Once your document is ready, try and extract the contents of your <code>.Rmd</code> into another <code>.R</code> script.</p>
<p><code>?purl</code></p>
</div>
</div>
</div>
<div id="html-in-rmarkdown" class="section level3">
<h3>html in rmarkdown</h3>
<div id="marking-up-with-html-tags" class="section level4">
<h4>marking up with html tags</h4>
<p><strong>This text marked up in html</strong></p>
<pre><code>&lt;strong&gt;Bold text&lt;/strong&gt;
</code></pre>
<p><strong>renders to this</strong></p>
<p><strong>Bold text</strong></p>
<p><br></p>
<p>**This text marked up with <a href="https://www.w3schools.com/bootstrap/bootstrap_alerts.asp"><strong>Bootstrap alert css classes</strong></a></p>
<pre><code>&lt;div class=&quot;alert alert-warning&quot;&gt;&lt;small&gt;this a is warning message&lt;/small&gt;&lt;/div&gt;
</code></pre>
<p><strong>renders to</strong></p>
<div class="alert alert-warning">
<small>this a is warning message</small>
</div>
<p><br></p>
<pre><code>&lt;div class=&quot;alert alert-success&quot;&gt;&lt;small&gt;this a is success message&lt;/small&gt;&lt;/div&gt;
</code></pre>
<p><strong>renders to</strong></p>
<div class="alert alert-success">
<small>this a is success message</small>
</div>
</div>
<div id="embedding-tweets" class="section level4">
<h4>embedding tweets</h4>
<p><strong>This snipped copied from twitter in the embed format</strong></p>
<pre><code>&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;How cool does this tweet look embedded in &lt;a href=&quot;https://twitter.com/hashtag/rmarkdown?src=hash&amp;amp;ref_src=twsrc%5Etfw&quot;&gt;#rmarkdown&lt;/a&gt;! 😎&lt;/p&gt;&amp;mdash; annakrystalli (@annakrystalli) &lt;a href=&quot;https://twitter.com/annakrystalli/status/977209749958791168?ref_src=twsrc%5Etfw&quot;&gt;March 23, 2018&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&quot;https://platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;
</code></pre>
<p><strong>renders to this</strong></p>
<blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
How cool does this tweet look embedded in <a href="https://twitter.com/hashtag/rmarkdown?src=hash&amp;ref_src=twsrc%5Etfw">#rmarkdown</a>! 😎
</p>
— annakrystalli (<span class="citation">@annakrystalli</span>) <a href="https://twitter.com/annakrystalli/status/977209749958791168?ref_src=twsrc%5Etfw">March 23, 2018</a>
</blockquote>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>Embbed gifs, videos, widgets in this way</p>
</div>
</div>
</div>
<div id="getting-help-with-markdown" class="section level2">
<h2>Getting help with markdown</h2>
<p><strong>To get help, you need a reproducible example</strong></p>
<ul>
<li>github issues</li>
<li>stackoverflow</li>
<li>slack channels</li>
<li>discussion boards</li>
</ul>
<div id="reprex" class="section level3">
<h3><code>reprex</code></h3>
<div class="sourceCode" id="cb555"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb555-1"><a href="literate-programming-in-rmarkdown.html#cb555-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;reprex&quot;</span>)</span></code></pre></div>
<p>Use function <strong><code>reprex::reprex()</code></strong> to produce a reproducible example in a custom markdown format for the <code>venue</code> of your choice</p>
<ul>
<li><strong><code>"gh"</code></strong> for GitHub (default)</li>
<li><strong><code>"so"</code></strong> for StackOverflow,</li>
<li><strong><code>"r"</code></strong> or <strong><code>"R"</code></strong> for a runnable R script, with commented output interleaved.</li>
</ul>
</div>
<div id="using-reprex" class="section level3">
<h3>using reprex</h3>
<ol style="list-style-type: decimal">
<li><p>Copy the code you want to run.</p>
<div class="alert alert-warning">
<small>all required variables must be defined and libraries loaded</small>
</div></li>
<li><p>In the console, call the <code>reprex</code> function</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="literate-programming-in-rmarkdown.html#cb556-1" aria-hidden="true" tabindex="-1"></a>   reprex<span class="sc">::</span><span class="fu">reprex</span>()</span></code></pre></div>
<ul>
<li><small>the code is executed in a fresh environment and “code + commented output” is returned invisibly on the clipboard.</small></li>
</ul></li>
<li><p>Paste the result in the venue of your choice.</p>
<ul>
<li><small>Once published it will be rendered to html.</small></li>
</ul></li>
</ol>
</div>
<div id="bookdown" class="section level3">
<h3><a href="https://bookdown.org/yihui/bookdown/"><code>bookdown</code></a></h3>
<p>Authoring with R Markdown. Offers:</p>
<ul>
<li>cross-references,</li>
<li>citations,</li>
<li>HTML widgets and Shiny apps,</li>
<li>tables of content and section numbering</li>
</ul>
<p>The publication can be exported to HTML, PDF, and e-books (e.g. EPUB)
Can even be used to write thesis!</p>
<p>&lt;img src=“assets/logo_bookdown.png”, width=“200px”/&gt;
&lt;img src=“assets/cover_bookdown.jpg”, width=“200px”/&gt;</p>
</div>
<div id="pkgdown" class="section level3">
<h3><a href="http://pkgdown.r-lib.org/articles/pkgdown.html">pkgdown</a></h3>
<div id="for-buidling-package-documentation" class="section level4">
<h4>For buidling package documentation</h4>
<ul>
<li>Can use it to document any functional code you produce and demonstrate it’s us ethrough vignettes</li>
</ul>
<p><img src="assets/pkgreviewr.png" /></p>
</div>
</div>
<div id="workflowr-pkg" class="section level3">
<h3><a href="https://jdblischak.github.io/workflowr/">workflowr</a> pkg</h3>
<div id="build-analyses-websites-and-organise-your-project" class="section level4">
<h4>Build analyses websites and organise your project</h4>
<p>The workflowr R package makes it easier for researchers to organize their projects and share their results with colleagues.</p>
<p><img src="assets/workflowr-index.png" /><img src="assets/workflowr-article.png" />
]</p>
</div>
</div>
<div id="blogdown" class="section level3">
<h3><a href="https://bookdown.org/yihui/blogdown/">blogdown</a></h3>
<div id="for-creating-and-mantaining-blogs." class="section level4">
<h4>For creating and mantaining blogs.</h4>
<p>Check out <a href="https://awesome-blogdown.com/" class="uri">https://awesome-blogdown.com/</a>, <strong>a curated list of awesome #rstats blogs in blogdown</strong> for inspiration!</p>
</div>
</div>
<div id="bookdown-1" class="section level3">
<h3><a href="https://bookdown.org/yihui/bookdown/">bookdown</a></h3>
<div id="for-creating-and-mantaining-online-books" class="section level4">
<h4>For creating and mantaining online books</h4>
<ul>
<li><a href="https://ropensci.github.io/dev_guide/">rOpenSci Software Review policies</a></li>
<li><a href="https://geocompr.robinlovelace.net/">Geocomputation in R</a></li>
</ul>
<div id="thesisdown" class="section level5">
<h5><a href="https://github.com/ismayc/thesisdown">Thesisdown</a></h5>
<p>An updated R Markdown thesis template using the bookdown package</p>
</div>
</div>
</div>
</div>
<div id="resources-1" class="section level2">
<h2><strong>Resources</strong></h2>
<ul>
<li><p><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive guide</a></p></li>
<li><p><a href="http://rmarkdown.rstudio.com/">Rmarkdown documentation</a></p></li>
<li><p><a href="https://rmarkdown.rstudio.com/html_document_format.html">Rmarkdown <code>html_document</code> format documentation</a></p></li>
<li><p><a href="https://www.rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">Rstudio Rmarkdown cheatsheet</a></p></li>
<li><p><a href="https://www.coursera.org/learn/reproducible-research">Reproducible Research</a> coursera MOOC</p></li>
<li><p><a href="http://deanattali.com/2015/03/24/knitrs-best-hidden-gem-spin/">Producing html documents from <code>.R</code> scripts using <code>knitr::spin</code></a></p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="plotting-with-ggplot2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="version-control.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rrresearchACCE20.pdf", "rrresearchACCE20.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
